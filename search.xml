<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>为你的网站添加&#39;串门&#39;功能</title>
      <link href="/posts/6bfef799.html"/>
      <url>/posts/6bfef799.html</url>
      
        <content type="html"><![CDATA[<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>本功能通过获取友联页面信息,配合<code>随机函数</code>制作的类似于<a href="https://travellings.link/">@开往</a>的一个项目</p><h1 id="添加代码"><a href="#添加代码" class="headerlink" title="添加代码"></a>添加代码</h1><p>不知道如何添加代码的同学,可以看<a href="https://www.cnortles.top/posts/697f76e7.html">这篇文章</a></p><div class="note info simple"><p>本代码由<a href="https://blog.zhheo.com/">@张洪大佬</a>页脚 JS 改造而来</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认以主题 Butterfly 为例</span></span><br><span class="line"><span class="comment">/**友联跳转 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">random_flink</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;/link&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> e.<span class="title function_">text</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> t = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">      t.<span class="property">innerHTML</span> = e;</span><br><span class="line">      <span class="keyword">let</span> n = t.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;flink-item-name&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> l = t.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.flink-list-item a&quot;</span>);</span><br><span class="line">      n = <span class="title class_">Array</span>.<span class="title function_">from</span>(n);</span><br><span class="line">      l = <span class="title class_">Array</span>.<span class="title function_">from</span>(l);</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">5</span>; <span class="comment">//可设置为任意开始的位置</span></span><br><span class="line">      <span class="keyword">var</span> b = l.<span class="property">length</span>; <span class="comment">//可设置位任意结束的位置</span></span><br><span class="line">      <span class="keyword">var</span> num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="built_in">eval</span>(b) + <span class="built_in">eval</span>(a)) - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">var</span> n_name = n[num].<span class="property">innerText</span>;</span><br><span class="line">      btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;温馨提示,您即将前往&quot;</span> + n_name, !<span class="number">1</span>, <span class="number">3e3</span>);</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">jump</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = l[num];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">setTimeout</span>(jump, <span class="number">2000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h2><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>fetch</td><td>填写你的友联页面,如”&#x2F;link”</td></tr><tr><td>n</td><td>填写你友联页面中,网站名称哪一项的<code>class</code></td></tr><tr><td>a</td><td>随机数开始生成的区间,默认为 0,可自行调节</td></tr><tr><td>l</td><td>填写你友联页面中,地址的一项</td></tr><tr><td>setTimeout</td><td>延迟,默认 2s</td></tr></tbody></table><h1 id="开启弹窗"><a href="#开启弹窗" class="headerlink" title="开启弹窗"></a>开启弹窗</h1><p>找到<code>主题的配置文件</code>(<del>大约在 840 行左右</del>)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Snackbar (Toast Notification 彈窗)</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top-center</span> <span class="comment">#弹窗显示位置可选 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&quot;#1f1f1f&quot;</span> <span class="comment"># 明亮主题下的背景</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&quot;#1f1f1f&quot;</span> <span class="comment"># T暗黑模式下的背景</span></span><br></pre></td></tr></table></figure><h1 id="修改主题文件"><a href="#修改主题文件" class="headerlink" title="修改主题文件"></a>修改主题文件</h1><p>需要修改的文件在<code>\themes\butterfly\layout\includes\header\nav.pug</code>,其他主题可自行查找<code>菜单</code>的 PUG 文件所在</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog_name</span><br><span class="line">    a#site-name(href=url_for(&#x27;/&#x27;)) #[=config.title]</span><br><span class="line"></span><br><span class="line">  #menus</span><br><span class="line">    if (theme.algolia_search.enable || theme.local_search.enable)</span><br><span class="line">      #search-button</span><br><span class="line">        a.site-page.social-icon.search</span><br><span class="line">          i.iconfont.icon-sousuo</span><br><span class="line">          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span><br><span class="line"><span class="addition">+    #random_flink(onclick=&#x27;random_flink()&#x27;)</span></span><br><span class="line"><span class="addition">+      i.fas.fa-bus.fa-fw //图标可自行选择</span></span><br><span class="line"><span class="addition">+      span=&#x27;串门&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">    #toggle-menu</span><br><span class="line">      a.site-page</span><br><span class="line">        i.fas.fa-bars.fa-fw</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="修改-css"><a href="#修改-css" class="headerlink" title="修改 css"></a>修改 css</h1><p>在你的自定义 CSS 文件中,加入以下信息</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> <span class="selector-id">#random_flink</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中<code>font-size</code>有你决定,可以在<code>控制台</code>中进行测试</p><hr><h1 id="第三方主题"><a href="#第三方主题" class="headerlink" title="第三方主题"></a>第三方主题</h1><p>如果您的主题不包含<code>SnackBar</code>模块,可找寻其他<code>弹窗</code>替代,本文使用<code>SnackBar</code>示例</p><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/polonel/SnackBar"><img src="https://github-readme-stats.vercel.app/api/pin/?username=polonel&repo=SnackBar&theme=great-gatsby&show_owner=true"/></a><h2 id="通过外部链接引入文件"><a href="#通过外部链接引入文件" class="headerlink" title="通过外部链接引入文件"></a>通过外部链接引入文件</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/node-snackbar@latest/src/js/snackbar.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">type=&quot;text/css&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/npm/node-snackbar@latest/dist/snackbar.min.css&quot;</span> <span class="string">/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="相关配置"><a href="#相关配置" class="headerlink" title="相关配置"></a>相关配置</h3><table><thead><tr><th>Key</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>text</td><td><em>null</em></td><td>The text to displae inside the notification.</td></tr><tr><td>textColor</td><td><em>#FFFFFF</em></td><td>Text color of the notification text. <em>Default is white.</em></td></tr><tr><td>pos</td><td><em>bottom-left</em></td><td>The position the notification will show. Refer to the examples above for possible positions.</td></tr><tr><td>customClass</td><td><em>null</em></td><td>Add a custom class to the notification for custom styling.</td></tr><tr><td>width</td><td><em>auto</em></td><td>Width of the notification. Used to <em>shrink&#x2F;expand</em> window as you wish.</td></tr><tr><td>showAction</td><td><em>true</em></td><td>Boolean to show the action buton or not.</td></tr><tr><td>actionText</td><td><em>Dismiss</em></td><td>Text to display as the action button.</td></tr><tr><td>actionTextAria</td><td><em>Dismiss, Description for Screen Readers</em></td><td>Text for screen readers.</td></tr><tr><td>alertScreenReader</td><td><em>false</em></td><td>Determines if screen readers will annouce the snackbar message.</td></tr><tr><td>actionTextColor</td><td><em>#4CAF50</em></td><td>Text color of the action button.</td></tr><tr><td>backgroundColor</td><td><em>#323232</em></td><td>Background color of the notification window.</td></tr><tr><td>duration</td><td><em>5000</em></td><td>Time in milliseconds the notification is displayed before fading out.</td></tr><tr><td>onActionClick</td><td><em>function(ele)</em></td><td>Default action closes the notification.</td></tr><tr><td>onClose</td><td><em>function(ele)</em></td><td>Fires when the notification has been closed.</td></tr></tbody></table><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;.button&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123; <span class="attr">text</span>: <span class="string">&quot;示例&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="代码替换"><a href="#代码替换" class="headerlink" title="代码替换"></a>代码替换</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**友联跳转 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">random_flink</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">&quot;/link&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> e.<span class="title function_">text</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> t = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">      t.<span class="property">innerHTML</span> = e;</span><br><span class="line">      <span class="keyword">let</span> n = t.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;flink-item-name&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> l = t.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.flink-list-item a&quot;</span>);</span><br><span class="line">      n = <span class="title class_">Array</span>.<span class="title function_">from</span>(n);</span><br><span class="line">      l = <span class="title class_">Array</span>.<span class="title function_">from</span>(l);</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">5</span>; <span class="comment">//可设置为任意开始的位置</span></span><br><span class="line">      <span class="keyword">var</span> b = l.<span class="property">length</span>; <span class="comment">//可设置位任意结束的位置</span></span><br><span class="line">      <span class="keyword">var</span> num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="built_in">eval</span>(b) + <span class="built_in">eval</span>(a)) - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">var</span> n_name = n[num].<span class="property">innerText</span>;</span><br><span class="line">      <span class="title class_">Snackbar</span>.<span class="title class_">Show</span>(&#123; <span class="attr">test</span>: <span class="string">&quot;温馨提示,您即将前往&quot;</span> + n_name &#125;, !<span class="number">1</span>, <span class="number">3e3</span>);</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">jump</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = l[num];</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">setTimeout</span>(jump, <span class="number">2000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h3><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">snackbar弹窗的调用</div>            <div class="tag-link-sitename"> https://sianx.com/posts/817b75fb/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>代码因为是由另一个功能改的,可能不太完善,如果有更好的方案建议在评论区<code>留言</code></p>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>公益项目</title>
      <link href="/posts/welfare.html"/>
      <url>/posts/welfare.html</url>
      
        <content type="html"><![CDATA[<div class="note warning modern"><p>以下项目都为公益项目,持续时间未知,请不要对其<code>攻击</code></p></div><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本站提供的服务,大多都是可以在<code>免费平台</code>自建的开源项目,如有能力可以尝试建立一个自己的服务</p><h1 id="加速服务"><a href="#加速服务" class="headerlink" title="加速服务"></a>加速服务</h1><h2 id="jsdelivr-国内方案"><a href="#jsdelivr-国内方案" class="headerlink" title="jsdelivr 国内方案"></a>jsdelivr 国内方案</h2><div class="note success modern"><p>状态:可用<br>域名: &#x2F;&#x2F;cdn.cnortles.top</p></div><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>这是本站对 jsdelivr 镜像,依托于<code>腾讯云</code>提供服务,由 COS+CDN 一起构成,具有白名单(如果你在本站友联,则不需要白名单)</p><h4 id="概况"><a href="#概况" class="headerlink" title="概况"></a>概况</h4><p>一个月 30-45G 流量,每秒限制请求 300 次,一小时瞬时额度封顶为 1G,达到封顶后,将会重定向至<code>cdn.jsdelivr.net</code></p><h4 id="周期"><a href="#周期" class="headerlink" title="周期"></a>周期</h4><p>大部分文件内周期 15 天,少部分文件周期 3 天</p><h4 id="镜像文件查看"><a href="#镜像文件查看" class="headerlink" title="镜像文件查看"></a>镜像文件查看</h4><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">落星盘</div>            <div class="tag-link-sitename"> http://pan.cnortles.top/资源/前端资源库/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h4 id="速度"><a href="#速度" class="headerlink" title="速度"></a>速度</h4><div class="note info modern"><p>测速由 <a href="https://www.boce.com/http/2979e24cff6c40d908337065d59d05f5.html?k=iEj3ZJD5jq">boce</a>提供</p></div><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/lmAxv84nn2GfUcJqcWl_EJVdyuQL.bmp"></p><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><div class="note warning modern"><p>因白名单机制,请您将你需要介入的<code>域名</code>留言在评论区,添加成功后将会以邮件回复</p></div><div class="tabs" id="1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#1-1">npm</button></li><li class="tab"><button type="button" data-href="#1-2">gh</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="1-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.cnortles.top/npm/package@version/file</span><br><span class="line">https://cdn.cnortles.top/npm/jquery@3.2.1/dist/jquery.min.js</span><br><span class="line">https://cdn.cnortles.top/npm/jquery/dist/jquery.min.js</span><br><span class="line">https://cdn.cnortles.top/npm/jquery/</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="1-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.cnortles.top/gh/user/repo@version/file</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h3 id="使用数据"><a href="#使用数据" class="headerlink" title="使用数据"></a>使用数据</h3><details class="folding-tag" ><summary> green 情况统计 </summary>              <div class='content'>              <div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08</p></div></div><div class='timeline-item-content'><p>暂时无记录</p></div></div></div>              </div>            </details><h3 id="私有化"><a href="#私有化" class="headerlink" title="私有化"></a>私有化</h3><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">jsdelivr加速</div>            <div class="tag-link-sitename"> https://www.cnortles.top/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><hr><h2 id="unpkg-方案"><a href="#unpkg-方案" class="headerlink" title="unpkg 方案"></a>unpkg 方案</h2><div class="note success modern"><p>状态:正常<br>域名: &#x2F;&#x2F;unpkg.cnortles.top</p></div><h3 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p>本服务由<code>上海腾讯云</code>提供,月流量<code>1000G</code>,带宽<code>6m</code>对小文件加速听快,无白名单,一秒限制请求 450 次,其余无限</p><h4 id="周期-1"><a href="#周期-1" class="headerlink" title="周期"></a>周期</h4><p>与上源同步</p><h4 id="速度-1"><a href="#速度-1" class="headerlink" title="速度"></a>速度</h4><div class="note info modern"><p>测速由 <a href="https://www.boce.com/http/2979e24cff6c40d908337065d59d05f5.html?k=iEj3ZJD5jq">boce</a>提供</p></div><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FlbdI3hsPQKSWS-97YVipF_AoZKz.png"></p><h4 id="文件列表"><a href="#文件列表" class="headerlink" title="文件列表"></a>文件列表</h4><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">落星盘</div>            <div class="tag-link-sitename"> http://pan.cnortles.top/资源/前端资源库/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h3 id="使用方法-1"><a href="#使用方法-1" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unpkg.cnortles.top/react@16.7.0/umd/react.production.min.js</span><br><span class="line">unpkg.cnortles.top/react/umd/react.production.min.js unpkg.cnortles.top/jquery</span><br></pre></td></tr></table></figure><h3 id="使用数据-1"><a href="#使用数据-1" class="headerlink" title="使用数据"></a>使用数据</h3><details class="folding-tag" ><summary> green 情况统计 </summary>              <div class='content'>              <div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08</p></div></div><div class='timeline-item-content'><p>暂时无记录</p></div></div></div>              </div>            </details><h3 id="私有化-1"><a href="#私有化-1" class="headerlink" title="私有化"></a>私有化</h3><h4 id="自建-unpkg-服务"><a href="#自建-unpkg-服务" class="headerlink" title="自建 unpkg 服务"></a>自建 unpkg 服务</h4><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">unpkg服务搭建</div>            <div class="tag-link-sitename"> http://www.cnortles.top/posts/welcomess.html/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h4 id="添加源站"><a href="#添加源站" class="headerlink" title="添加源站"></a>添加源站</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">http://1.117.99.118:8099</span></span><br></pre></td></tr></table></figure><hr><h2 id="jsdelivr-加速方案-2"><a href="#jsdelivr-加速方案-2" class="headerlink" title="jsdelivr 加速方案-2"></a>jsdelivr 加速方案-2</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://project.cnortles.top/proxy/jsdelivr/</span><br></pre></td></tr></table></figure><p>用法与<code>jsdelivr</code>一样,采用<code>NGINX</code>进行反代,周期 2 天</p><h3 id="自制"><a href="#自制" class="headerlink" title="自制"></a>自制</h3><p>在你的<code>NGINX</code>配置中添加以下代码</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#PROXY-START/proxy/jsdelivr/</span></span><br><span class="line"></span><br><span class="line"><span class="string">location</span> <span class="string">^~</span> <span class="string">/proxy/jsdelivr/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">proxy_pass</span> <span class="string">https://cdn.jsdelivr.net/;</span></span><br><span class="line">    <span class="string">proxy_set_header</span> <span class="string">Host</span> <span class="string">cdn.jsdelivr.net;</span></span><br><span class="line">    <span class="string">proxy_set_header</span> <span class="string">X-Real-IP</span> <span class="string">$remote_addr;</span></span><br><span class="line">    <span class="string">proxy_set_header</span> <span class="string">X-Forwarded-For</span> <span class="string">$proxy_add_x_forwarded_for;</span></span><br><span class="line">    <span class="string">proxy_set_header</span> <span class="string">REMOTE-HOST</span> <span class="string">$remote_addr;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">add_header</span> <span class="string">X-Cache</span> <span class="string">$upstream_cache_status;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#Set Nginx Cache</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="string">if</span> <span class="string">(</span> <span class="string">$uri</span> <span class="string">~*</span> <span class="string">&quot;\.(gif|png|jpg|css|js|woff|woff2)$&quot;</span> <span class="string">)</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">proxy_ignore_headers</span> <span class="string">Set-Cookie</span> <span class="string">Cache-Control</span> <span class="string">expires;</span></span><br><span class="line">    <span class="string">proxy_cache</span> <span class="string">cache_one;</span></span><br><span class="line">    <span class="string">proxy_cache_key</span> <span class="string">$host$uri$is_args$args;</span></span><br><span class="line">    <span class="string">proxy_cache_valid</span> <span class="number">200</span> <span class="number">304</span> <span class="number">301</span> <span class="number">302</span> <span class="string">259200m;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#PROXY-END/proxy/jsdelivr</span></span><br></pre></td></tr></table></figure><p>然后重启服务</p><hr><h2 id="github-加速计划"><a href="#github-加速计划" class="headerlink" title="github 加速计划"></a>github 加速计划</h2><div class="note success modern"><p>状态:可用<br>域名: <a href="https://git.cnortles.tk/">https://git.cnortles.tk/</a></p></div><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>GitHub 的镜像,由<code>cloud flare</code>提供服务,有次数限制,推荐私有部署</p><h4 id="测速"><a href="#测速" class="headerlink" title="测速"></a>测速</h4><p>待更新……</p><h3 id="使用方法-2"><a href="#使用方法-2" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#1 直接输入网址访问 #2 在克隆时,将 gitHub.com 替换为git.cnortles.tk/</span><br></pre></td></tr></table></figure><h3 id="私有部署"><a href="#私有部署" class="headerlink" title="私有部署"></a>私有部署</h3><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">国内加速GitHub</div>            <div class="tag-link-sitename"> https://www.cnortles.top/posts/6dc3b8fe.html</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h3 id="使用数据-2"><a href="#使用数据-2" class="headerlink" title="使用数据"></a>使用数据</h3><details class="folding-tag" ><summary> green 情况统计 </summary>              <div class='content'>              <div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08</p></div></div><div class='timeline-item-content'><p>暂时无记录</p></div></div></div>              </div>            </details><h1 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h1><p>待更新……</p>]]></content>
      
      
      <categories>
          
          <category> 资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 公益 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[软件推荐]番茄TO DO</title>
      <link href="/posts/24todo.html"/>
      <url>/posts/24todo.html</url>
      
        <content type="html"><![CDATA[<div class="note info simple"><p>本文只做推荐,如果您是 24 届高考生,请点击 <a href="https://www.cnortles.top/posts/24todo.html#24%E5%B1%8A%E9%AB%98%E8%80%83">此处</a></p></div><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>当今时代是一个快时代,充分利用好时间很是重要,但其中不缺乏<code>拦路虎</code>的存在,今天介绍的软件可以帮我们规划好时间</p><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><h2 id="官方"><a href="#官方" class="headerlink" title="官方"></a>官方</h2><blockquote><p>学霸必备神器，简约高效番茄钟+待办列表+学霸模式，将 ToDoList 和番茄工作法结合，能够让你的一天在计划中有条不紊地度过。</p></blockquote><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">番茄TODO</div>            <div class="tag-link-sitename"> http://www.tomatodo.cn/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><h3 id="简约清新的任务管理"><a href="#简约清新的任务管理" class="headerlink" title="简约清新的任务管理"></a>简约清新的任务管理</h3><blockquote><p>每天锻炼 30 分钟<br>每天锻炼 10 次<br>简单高效管理你的习惯和目标</p></blockquote><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FveTWmhdw8AfLPBuYWQJmDYoleEq.png"><br>自由设置自己的 TO DO 清单,每天打开养成好习惯</p><h3 id="丰富的计时功能以及学霸模式"><a href="#丰富的计时功能以及学霸模式" class="headerlink" title="丰富的计时功能以及学霸模式"></a>丰富的计时功能以及学霸模式</h3><blockquote><p>倒计时、正计时<br>精选背景海报和舒缓白噪音<br>学霸模式还可在你分心时发出警告</p></blockquote><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fur-EFbT-Yd7QJYM7DqnN9VQDG8Q.png"><br>独特的锁机模式,在什么时候就做什么事,将设备锁起来,这乃是网课必备神器,免费用户最长锁机时间内可达 60 分钟</p><h3 id="和朋友们一起加入自习室"><a href="#和朋友们一起加入自习室" class="headerlink" title="和朋友们一起加入自习室"></a>和朋友们一起加入自习室</h3><blockquote><p>一起奋斗，更多动力<br>不仅可比拼时长，还可查看专注分布</p></blockquote><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fu6mdIxcfxYs88zoLGTLgvDYQQTR.png"><br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FgXW1TvLq_CHMDLALHaCIRdvITOj.png"></p><p>这个自习室需要 VIP,不过 VIP 十分便宜,50 元可以买三年</p><h3 id="详尽完善的数据统计"><a href="#详尽完善的数据统计" class="headerlink" title="详尽完善的数据统计"></a>详尽完善的数据统计</h3><blockquote><p>专注时长分布<br>高效时间区间、打断原因、宏观统计<br>更添加成就感</p></blockquote><p>但注意,每个月只有 3 次锁机时间,需要珍惜</p><h1 id="24-届高考"><a href="#24-届高考" class="headerlink" title="24 届高考"></a>24 届高考</h1><p>因本人也是 24 届高考生,属于全国乙卷地区,所以创建了一个自习室,希望大家可以相互监督,共同进步</p><blockquote><p>我正在番茄 ToDo 的自习室里学习，快来加入一起组队学习吧~自习室加入码：D7D1C595，软件下载地址：<a href="https://a.app.qq.com/o/simple.jsp?pkgname=com.plan.kot32.tomatotime">https://a.app.qq.com/o/simple.jsp?pkgname=com.plan.kot32.tomatotime</a></p></blockquote><p>欢迎你的到来</p><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><ul><li><input checked="" disabled="" type="checkbox"> 24 届高考自习室</li><li><input disabled="" type="checkbox"> 28 届考研自习室</li></ul>]]></content>
      
      
      <categories>
          
          <category> 资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件推荐 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>设备检测</title>
      <link href="/posts/411b67b6.html"/>
      <url>/posts/411b67b6.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>设备检测这一块，看似没有用，但在有的时候用处确实很大的，比说如搞一些特色服务</p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><h2 id="设备类型判断"><a href="#设备类型判断" class="headerlink" title="设备类型判断"></a>设备类型判断</h2><h3 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取USER AGENT</span></span><br><span class="line"><span class="variable">$agent</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>]);</span><br><span class="line"><span class="comment">//分析数据</span></span><br><span class="line"><span class="variable">$is_pc</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;windows nt&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_iphone</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;iphone&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_ipad</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;ipad&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_android</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;android&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_linux</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;linux&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_harmonyOS</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;harmonyOS&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="comment">//输出数据</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_android</span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; !<span class="variable">$is_android</span> &amp;&amp; !<span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_pc</span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_iphone</span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_ipad</span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_android</span>)&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="项目示例"><a href="#项目示例" class="headerlink" title="项目示例"></a>项目示例</h4><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">随即图片API</div>            <div class="tag-link-sitename"> http://www.cnortles.top/posts/762d4b0f.html/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><h4 id="根据-UA-判断"><a href="#根据-UA-判断" class="headerlink" title="根据 UA 判断"></a>根据 UA 判断</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="regexp">/Android|webOS|iPhone|iPad|iPod|harmony/i</span>.<span class="title function_">test</span>(navigator.<span class="property">userAgent</span>)) &#123;</span><br><span class="line">  <span class="keyword">return</span> mobi;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> pc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="根据屏幕大小"><a href="#根据屏幕大小" class="headerlink" title="根据屏幕大小"></a>根据屏幕大小</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&quot;(max-width: 750px)&quot;</span>).<span class="property">matches</span>) &#123;</span><br><span class="line">  <span class="comment">// 视图宽度小于750像素</span></span><br><span class="line">  <span class="keyword">return</span> mobi;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// 视图至少有750像素宽</span></span><br><span class="line">  <span class="keyword">return</span> pc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h4><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">随即图片API</div>            <div class="tag-link-sitename"> http://www.cnortles.top/posts/welcomess.html/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为你的网站增加网盘下载</title>
      <link href="/posts/pandownjs.html"/>
      <url>/posts/pandownjs.html</url>
      
        <content type="html"><![CDATA[<div class="note info simple"><p>本文默认以 butterfly 为示例</p></div><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这是一个原生的 JS 文件，不需要安装插件</p><h2 id="作者对其介绍"><a href="#作者对其介绍" class="headerlink" title="作者对其介绍"></a>作者对其介绍</h2><blockquote><p>为网盘提供下载链接按钮</p></blockquote><h2 id="文件仓库"><a href="#文件仓库" class="headerlink" title="文件仓库"></a>文件仓库</h2><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/Fgaoxing/pandown-js"><img src="https://github-readme-stats.vercel.app/api/pin/?username=Fgaoxing&repo=pandown-js&theme=great-gatsby&show_owner=true"/></a><h1 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h1><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;baidu&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;tx&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;onedrive&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;hc&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;ty&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;aliyun&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;115&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;jg&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;360&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;123&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;qn&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;github&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br><span class="line"><span class="string">&lt;pandown</span> <span class="string">type=&quot;lz&quot;</span> <span class="string">url=&quot;123&quot;</span> <span class="string">pwd=&quot;1234&quot;</span> <span class="string">fname=&quot;啥都没有，我没放链接&quot;&gt;&lt;/pandown&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FrfvauOHwjRXILkLt9nSvhb0VUkQ.png"><br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fl_R5aMLwTCm1_qQeM0HdruqL9ov.png"><br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fsj31WKlVXNKwCXUmcZ_Lj4rOUhR.png"></p><h1 id="引入方式"><a href="#引入方式" class="headerlink" title="引入方式"></a>引入方式</h1><h2 id="下载文件内引入"><a href="#下载文件内引入" class="headerlink" title="下载文件内引入"></a>下载文件内引入</h2><p>访问<a href="https://github.com/Fgaoxing/pandown-js">仓库</a>，将 pandown-js 文件下载到本地，在主题<code>inject</code>引<br>入 js 文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line"><span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/xxxxx/pandown.js&quot;</span> <span class="string">/&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="通过-raw-引入"><a href="#通过-raw-引入" class="headerlink" title="通过 raw 引入"></a>通过 raw 引入</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line"><span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://raw.githubusercontent.com/Fgaoxing/pandown-js/main/pandown.js&quot;</span> <span class="string">/&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="通过-jsd-引入"><a href="#通过-jsd-引入" class="headerlink" title="通过 jsd 引入"></a>通过 jsd 引入</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line"><span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/gh/Fgaoxing/pandown-js@main/pandown.js&quot;</span> <span class="string">/&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="通过本站-CDN-引入"><a href="#通过本站-CDN-引入" class="headerlink" title="通过本站 CDN 引入"></a>通过本站 CDN 引入</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line"><span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.cnortles.top/gh/Fgaoxing/pandown-js@main/pandown.js&quot;</span> <span class="string">/&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资源 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>为你的网站添加欢迎提示</title>
      <link href="/posts/welcomess.html"/>
      <url>/posts/welcomess.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>一个纯 JS 的小功能，代码也十分的简单，主要是调用<code>snackbar</code>功能，输出浏览器，IP，来源等一些信息，和看板娘的部分功能相同</p><h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><h2 id="获取浏览器版本"><a href="#获取浏览器版本" class="headerlink" title="获取浏览器版本"></a>获取浏览器版本</h2><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>通过获取用户的 UA，用 JS 自带的函数 MATCH 检测 UA 中所包含的特有字符，区分浏览器名称，这一块需要注意判断顺序</p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/edg/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;Edge&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/weixin/i</span>)) &#123;</span><br><span class="line"><span class="comment">/**社交软件检测 */</span></span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;微信&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/ks/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;快手&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/weibo/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;微博&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/dy/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;抖音&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/heytapbrowser/i</span>)) &#123;</span><br><span class="line"><span class="comment">/**手机厂商浏览器检测区域 */</span></span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;OPPO浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/vivobrowser/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;VIVO浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">  navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/HBPC/i</span>) ||</span><br><span class="line">  navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/huaweibrowser/i</span>)</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;华为浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">  navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/iphone/i</span>) &amp;&amp;</span><br><span class="line">  navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/mac/i</span>)</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;苹果设备&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/quark/i</span>)) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**第三方浏览器检测区域 */</span></span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;夸克浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/firefox/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;火狐浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/ucbrowser/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;UC浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/baidubox/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;百度浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/opr/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;Opera浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/qq/i</span>)) &#123;</span><br><span class="line"><span class="comment">/**else if(navigator.userAgent.match(/360/i))&#123; var we_mes = &#x27;360浏览器&#x27;;&#125;因多次查证，360浏览器并不包含特有信息，无法查证*/</span></span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;QQ浏览器&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/chrome/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> we_mes = <span class="string">&quot;Chrome浏览器&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="已实验部分"><a href="#已实验部分" class="headerlink" title="已实验部分"></a>已实验部分</h3><ul><li><input checked="" disabled="" type="checkbox"> 华为浏览器</li><li><input checked="" disabled="" type="checkbox"> 快手</li><li><input checked="" disabled="" type="checkbox"> OPPO 浏览器</li><li><input checked="" disabled="" type="checkbox"> 微信</li><li><input checked="" disabled="" type="checkbox"> QQ 浏览器</li><li><input checked="" disabled="" type="checkbox"> EDGE 浏览器</li><li><input checked="" disabled="" type="checkbox"> 夸克浏览器</li></ul><h2 id="获取来源地址"><a href="#获取来源地址" class="headerlink" title="获取来源地址"></a>获取来源地址</h2><h3 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h3><p>通过 referrer 识别访问来源</p><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**来源检测 */</span></span><br><span class="line"><span class="keyword">var</span> we_link = <span class="variable language_">document</span>.<span class="property">referrer</span>;</span><br><span class="line"><span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/baidu/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;百度&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/sougou/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;搜狗&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/weixin/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;微信&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/qq/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;qq&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/zhihu/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;知乎&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/google/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;谷歌&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/bing/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;必应&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/so/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;360&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/weibo/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;微博&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/t.co/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;推特&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/sougou/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;搜狗&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/toutiao/i</span>)) &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;今日头条&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> welcome_link = <span class="string">&quot;远方&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果 referrer 为空，将会显示远方</p><h2 id="IP-部分"><a href="#IP-部分" class="headerlink" title="IP 部分"></a>IP 部分</h2><h3 id="api"><a href="#api" class="headerlink" title="api"></a>api</h3><p>相信 API 建立过程，请参考</p><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/source.cnortles.top/img/%E9%93%BE%E6%8E%A5.png.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">自建IP查询</div>            <div class="tag-link-sitename"> http://www.cnortles.top/posts/9aff0b88.html/</div>        </div>        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>    </div>    </a></div><h4 id="为什么自建"><a href="#为什么自建" class="headerlink" title="为什么自建"></a>为什么自建</h4><p>因为用本站的 API，一秒只能请求一次，对于访客过多的时候，信息会有误差</p><h3 id="步骤-1"><a href="#步骤-1" class="headerlink" title="步骤"></a>步骤</h3><h4 id="引入-API"><a href="#引入-API" class="headerlink" title="引入 API"></a>引入 API</h4><p>在主题配置文件中，在<code>inject</code>加入以下代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;script type=&quot;text/javascript&quot; src=&quot;https://api.cnortles.top/ip/&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FlyxJjlR56jL2dq-GRhJLbxp1MO3.png"></p><h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><p>·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**IP部分 */</span><br><span class="line">if(ip_mes[&quot;nation&quot;] == &#x27;中国&#x27;)&#123;</span><br><span class="line">  var ip_mess = ip_mes[&quot;city&quot;];</span><br><span class="line">&#125;else if(ip_mes[&quot;city&quot;].match(/台湾/i))&#123;</span><br><span class="line">  var ip_mess = &quot;中国台湾&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">  var ip_mess = ip_mes[&quot;nation&quot;]+ip_mes[&quot;province&quot;]+ip_mes[&quot;city&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这是我的代码逻辑，本来一开始是打算输出 国家+省份+城市+地区，但考虑了一些事情以后，决定当国家是 中国时，只输出市</p><h2 id="弹窗显示"><a href="#弹窗显示" class="headerlink" title="弹窗显示"></a>弹窗显示</h2><p>这里默认调用了 butterfly 主题的 snackbarShow 函数，其余可参考<a href="https://www.polonel.com/snackbar/">SnackBar</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;你好啊，来自&quot;</span>+ip_mess+<span class="string">&quot;的朋友，您使用&quot;</span>+we_mes+<span class="string">&quot;从&quot;</span>+welcome_link+<span class="string">&quot;赶来&quot;</span>, !<span class="number">1</span>, <span class="number">3e3</span>);&#125;</span><br></pre></td></tr></table></figure><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FkiHwrcy-PO2n5c7YEC9IYKzdt9k.png"></p><h1 id="利用-COOKIE-只在第一次打开时显示（完整代码）"><a href="#利用-COOKIE-只在第一次打开时显示（完整代码）" class="headerlink" title="利用 COOKIE 只在第一次打开时显示（完整代码）"></a>利用 COOKIE 只在第一次打开时显示（完整代码）</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*功能实现区*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setCookie</span>(<span class="params">name, value, hours, path</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="built_in">escape</span>(name);</span><br><span class="line">  <span class="keyword">var</span> value = <span class="built_in">escape</span>(value);</span><br><span class="line">  <span class="keyword">var</span> expires = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  expires.<span class="title function_">setTime</span>(expires.<span class="title function_">getTime</span>() + hours * <span class="number">3600000</span>);</span><br><span class="line">  path = path == <span class="string">&quot;&quot;</span> ? <span class="string">&quot;&quot;</span> : <span class="string">&quot;;path=&quot;</span> + path;</span><br><span class="line">  _expires =</span><br><span class="line">    <span class="keyword">typeof</span> hours == <span class="string">&quot;string&quot;</span> ? <span class="string">&quot;&quot;</span> : <span class="string">&quot;;expires=&quot;</span> + expires.<span class="title function_">toUTCString</span>();</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">cookie</span> = name + <span class="string">&quot;=&quot;</span> + value + _expires + path;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//读取cookie</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookie</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> arrStr = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">split</span>(<span class="string">&quot;; &quot;</span>);</span><br><span class="line">  <span class="comment">//alert(arrStr)</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrStr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = arrStr[i].<span class="title function_">split</span>(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (arr[<span class="number">0</span>] == name) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(arr[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**网站提示区 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">welcome_mes</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/edg/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;Edge&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/weixin/i</span>)) &#123;</span><br><span class="line">  <span class="comment">/**社交软件检测 */</span></span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;微信&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/ks/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;快手&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/weibo/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;微博&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/dy/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;抖音&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/heytapbrowser/i</span>)) &#123;</span><br><span class="line">  <span class="comment">/**手机厂商浏览器检测区域 */</span></span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;OPPO浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/vivobrowser/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;VIVO浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/HBPC/i</span>) ||</span><br><span class="line">    navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/huaweibrowser/i</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;华为浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">    navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/iphone/i</span>) &amp;&amp;</span><br><span class="line">    navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/mac/i</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;苹果设备&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/quark/i</span>)) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**第三方浏览器检测区域 */</span></span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;夸克浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/firefox/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;火狐浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/ucbrowser/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;UC浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/baidubox/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;百度浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/opr/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;Opera浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/qq/i</span>)) &#123;</span><br><span class="line">  <span class="comment">/**else if(navigator.userAgent.match(/360/i))&#123; var we_mes = &#x27;360浏览器&#x27;;&#125;因多次查证，360浏览器并不包含特有信息，无法查证*/</span></span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;QQ浏览器&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/chrome/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> we_mes = <span class="string">&quot;Chrome浏览器&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**IP部分 */</span></span><br><span class="line">  <span class="keyword">if</span> (ip_mes[<span class="string">&quot;nation&quot;</span>] == <span class="string">&quot;中国&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> ip_mess = ip_mes[<span class="string">&quot;city&quot;</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ip_mes[<span class="string">&quot;city&quot;</span>].<span class="title function_">match</span>(<span class="regexp">/台湾/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> ip_mess = <span class="string">&quot;中国台湾&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> ip_mess = ip_mes[<span class="string">&quot;nation&quot;</span>] + ip_mes[<span class="string">&quot;province&quot;</span>] + ip_mes[<span class="string">&quot;city&quot;</span>];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**来源检测 */</span></span><br><span class="line">  <span class="keyword">var</span> we_link = <span class="variable language_">document</span>.<span class="property">referrer</span>;</span><br><span class="line">  <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/baidu/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;百度&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/sougou/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;搜狗&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/weixin/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;微信&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/qq/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;qq&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/zhihu/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;知乎&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/google/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;谷歌&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/bing/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;必应&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/so/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;360&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/weibo/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;微博&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/t.co/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;推特&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/sougou/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;搜狗&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (we_link.<span class="title function_">match</span>(<span class="regexp">/toutiao/i</span>)) &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;今日头条&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> welcome_link = <span class="string">&quot;远方&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">getCookie</span>(<span class="string">&quot;welcome&quot;</span>) == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(</span><br><span class="line">      <span class="string">&quot;你好啊，来自&quot;</span> +</span><br><span class="line">        ip_mess +</span><br><span class="line">        <span class="string">&quot;的朋友，您使用&quot;</span> +</span><br><span class="line">        we_mes +</span><br><span class="line">        <span class="string">&quot;从&quot;</span> +</span><br><span class="line">        welcome_link +</span><br><span class="line">        <span class="string">&quot;赶来&quot;</span>,</span><br><span class="line">      !<span class="number">1</span>,</span><br><span class="line">      <span class="number">3e3</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">setCookie</span>(<span class="string">&quot;welcome&quot;</span>, <span class="number">1</span>, <span class="string">&quot;/&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">welcome_mes</span>();</span><br></pre></td></tr></table></figure><h1 id="其他主题-x2F-网站使用方法"><a href="#其他主题-x2F-网站使用方法" class="headerlink" title="其他主题&#x2F;网站使用方法"></a>其他主题&#x2F;网站使用方法</h1><h2 id="利用-NPM"><a href="#利用-NPM" class="headerlink" title="利用 NPM"></a>利用 NPM</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install node-snackbar</span><br></pre></td></tr></table></figure><h2 id="引入文件"><a href="#引入文件" class="headerlink" title="引入文件"></a>引入文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://cdn.jsdelivr.net/npm/snackbar@1.1.0/dist/snackbar.min.css</span><br><span class="line">https://cdn.jsdelivr.net/npm/snackbar@1.1.0/dist/snackbar.min.js</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Snackbar.show(</span><br><span class="line">&#123;pos: <span class="string">&#x27;top-center&#x27;</span>,text: <span class="string">&quot;你好啊，来自&quot;</span>+ip_mess+<span class="string">&quot;的朋友，您使用&quot;</span>+we_mes+<span class="string">&quot;从&quot;</span>+welcome_link+<span class="string">&quot;赶来&quot;</span>&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><ul><li><input disabled="" type="checkbox"> 优化代码逻辑</li></ul>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 源码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用CSS rem元素实现网站自适应</title>
      <link href="/posts/a889f9e9.html"/>
      <url>/posts/a889f9e9.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="什么是-rem"><a href="#什么是-rem" class="headerlink" title="什么是 rem"></a>什么是 rem</h2><blockquote><p>这个单位可谓集相对大小和绝对大小的优点于一身，通过它既可以做到只修改根元素就成比例地调整所有字体大小，又可以避免字体大小逐层复合的连锁反应。<br>除了 IE8 及更早版本外，所有浏览器均已支持 rem。<br>——来自百度</p></blockquote><h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><p>利用 rem，我们就可以实现 js 自适应效果，可以很好的提升网页的多端效果，实现响应式布局</p><h2 id="额外"><a href="#额外" class="headerlink" title="额外"></a>额外</h2><ul><li>定义 rem 基准值（rem 与 px 之间的换算关系）</li><li>rem 的计算公式 ：设备视口宽度 &#x2F; 设计稿宽度 * 100</li></ul><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><h2 id="加入以下-js-代码"><a href="#加入以下-js-代码" class="headerlink" title="加入以下 js 代码"></a>加入以下 js 代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params">doc, win</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> docEl = doc.<span class="property">documentElement</span>,</span><br><span class="line">    resizeEvt = <span class="string">&quot;orientationchange&quot;</span> <span class="keyword">in</span> <span class="variable language_">window</span> ? <span class="string">&quot;orientationchange&quot;</span> : <span class="string">&quot;resize&quot;</span>,</span><br><span class="line">    recalc = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> clientWidth = docEl.<span class="property">clientWidth</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!clientWidth) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (clientWidth &gt;= <span class="number">750</span>) &#123;</span><br><span class="line">        docEl.<span class="property">style</span>.<span class="property">fontSize</span> = <span class="string">&quot;100px&quot;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        docEl.<span class="property">style</span>.<span class="property">fontSize</span> = <span class="number">100</span> * (clientWidth / <span class="number">750</span>) + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!doc.<span class="property">addEventListener</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  win.<span class="title function_">addEventListener</span>(resizeEvt, recalc, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  doc.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, recalc, <span class="literal">false</span>);</span><br><span class="line">&#125;)(<span class="variable language_">document</span>, <span class="variable language_">window</span>);</span><br></pre></td></tr></table></figure><h3 id="代码说明"><a href="#代码说明" class="headerlink" title="代码说明"></a>代码说明</h3><p>1rem 就相当于一个根元素 font-size 的大小，加入以上代码在 css 直接用 1.5rem 即可</p><h2 id="在-css-里规定"><a href="#在-css-里规定" class="headerlink" title="在 css 里规定"></a>在 css 里规定</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css">      //在根元素中计算基准值字体大小，设备宽度 / 设计稿宽度 * <span class="number">100</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="built_in">calc</span>(<span class="number">100vw</span> / <span class="number">375</span> * <span class="number">100</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    //使用媒体查询监测设备视口宽度，当视口宽度大于最大移动设备宽度时，将内容的大小设置为固定值，不再随设备视口大小进行变化</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">769px</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css">        //将根元素字体大小设置为需求最大宽度的基准值大小</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="built_in">calc</span>(<span class="number">769px</span> / <span class="number">375</span> * <span class="number">100</span>);</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">        //将内容宽度固定设置为需求最大宽度</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">769px</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">0.16rem</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span>测试rem<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><p>TO DO</p><ul><li><input disabled="" type="checkbox"> dome 示例</li><li><input checked="" disabled="" type="checkbox"> 引入文档地址</li><li><input checked="" disabled="" type="checkbox"> rem 介绍</li><li><input checked="" disabled="" type="checkbox"> 使用 rem 的方法</li></ul>]]></content>
      
      
      <categories>
          
          <category> 转载 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>视频解析</title>
      <link href="/posts/e43f3b7d.html"/>
      <url>/posts/e43f3b7d.html</url>
      
        <content type="html"><![CDATA[<h1 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h1><p>一切资源来自于网络，本站不保存任何资源！！！</p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前搞了一个公益的 CDN 结果被一些视频网站刷了 500G 的流量，今天突然想起来自己有一个视频解析的模板，刚好可以用那几个网站试用</p><h1 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h1><ol><li><a href="https://jx.zui.cm/">https://jx.zui.cm/</a></li><li><a href="https://jx.playerjy.com/">https://jx.playerjy.com/</a></li><li><a href="https://jx.yunjuw.cn/">https://jx.yunjuw.cn/</a></li><li><a href="https://jx1.aiyingshis.com/">https://jx1.aiyingshis.com/</a></li></ol><h1 id="解析模板"><a href="#解析模板" class="headerlink" title="解析模板"></a>解析模板</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-cn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.video_div</span>&#123; <span class="attribute">width</span>:<span class="number">100%</span>; <span class="attribute">height</span>:<span class="number">645px</span>;<span class="attribute">border-radius</span>:<span class="number">5px</span>;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>)&#123;<span class="selector-class">.wiui01</span>&#123;<span class="attribute">width</span>:<span class="number">100%</span>; <span class="attribute">height</span>:<span class="number">200px</span>;&#125;&#125;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.input-group-addon</span>&#123;<span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">12px</span>; <span class="attribute">font-size</span>: <span class="number">14px</span>; <span class="attribute">font-weight</span>: <span class="number">400</span>; <span class="attribute">line-height</span>: <span class="number">1</span>; <span class="attribute">color</span>: <span class="number">#555</span>; <span class="attribute">text-align</span>: center; <span class="attribute">background-color</span>: <span class="number">#eee</span>; <span class="attribute">border-radius</span>: <span class="number">4px</span>;<span class="attribute">border</span>: <span class="number">#ccc</span>;&#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="built_in">eval</span>(</span></span><br><span class="line"><span class="language-javascript">        (<span class="keyword">function</span> (<span class="params">p, a, c, k, e, d</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          e = <span class="keyword">function</span> (<span class="params">c</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> (</span></span><br><span class="line"><span class="language-javascript">              (c &lt; a ? <span class="string">&quot;&quot;</span> : <span class="title function_">e</span>(<span class="built_in">parseInt</span>(c / a))) +</span></span><br><span class="line"><span class="language-javascript">              ((c = c % a) &gt; <span class="number">35</span> ? <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(c + <span class="number">29</span>) : c.<span class="title function_">toString</span>(<span class="number">36</span>))</span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript">          &#125;;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (!<span class="string">&quot;&quot;</span>.<span class="title function_">replace</span>(<span class="regexp">/^/</span>, <span class="title class_">String</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">while</span> (c--) d[<span class="title function_">e</span>(c)] = k[c] || <span class="title function_">e</span>(c);</span></span><br><span class="line"><span class="language-javascript">            k = [</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> d[e];</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">            ];</span></span><br><span class="line"><span class="language-javascript">            e = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">return</span> <span class="string">&quot;\\w+&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            c = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">while</span> (c--)</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (k[c])</span></span><br><span class="line"><span class="language-javascript">              p = p.<span class="title function_">replace</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;\\b&quot;</span> + <span class="title function_">e</span>(c) + <span class="string">&quot;\\b&quot;</span>, <span class="string">&quot;g&quot;</span>), k[c]);</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> p;</span></span><br><span class="line"><span class="language-javascript">        &#125;)(</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&#x27;b a()&#123;0 6=1.2(&quot;9&quot;).4;0 5=1.2(&quot;3&quot;);0 3=1.2(&quot;3&quot;).c;0 8=5.e[3].4;0 7=1.2(&quot;f&quot;);7.d=8+6&#125;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="number">16</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="number">16</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="string">&quot;var|document|getElementById|jk|value|jkurl|diz|cljurl|jkv|url|dihejk|function|selectedIndex|src|options|player&quot;</span>.<span class="title function_">split</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&quot;|&quot;</span></span></span><br><span class="line"><span class="language-javascript">          ),</span></span><br><span class="line"><span class="language-javascript">          <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">          &#123;&#125;</span></span><br><span class="line"><span class="language-javascript">        )</span></span><br><span class="line"><span class="language-javascript">      );</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">function</span> <span class="title function_">dihejk2</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> diz = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;url&quot;</span>).<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> jkurl = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;jk&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> jk = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;jk&quot;</span>).<span class="property">selectedIndex</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> jkv = jkurl.<span class="property">options</span>[jk].<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> cljurl = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;player&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">open</span>(jkv + diz, <span class="string">&quot;_blank&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-14 column&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;kj&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">&quot;video_div&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">style</span>=<span class="string">&quot;background-image: url(&#x27;https://s2.loli.net/2022/07/21/OjDFZJUHX8stBNx.png&#x27;);background-size: 100%;&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">&quot;player&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">allowtransparency</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">name</span>=<span class="string">&quot;player&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/(iPhone|iPod|Android|ios)/i</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sdfdf&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-14 column&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;input-group-addon&quot;</span>&gt;</span>选择接口<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;jk&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;https://jx.zui.cm/?url&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;&quot;</span>&gt;</span>线路1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;https://jx.playerjy.com/?url=&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            线路2</span><br><span class="line">          <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;https://jx.yunjuw.cn/?url=&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;&quot;</span>&gt;</span>线路3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;https://jx1.aiyingshis.com/?url=&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">            线路4</span><br><span class="line">          <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;input-group&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;input-group-addon&quot;</span>&gt;</span>播放地址<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;search&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">&quot;电脑使用Ctrl+V粘贴网址-手机直接长按粘贴网址&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">&quot;url&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">&quot;bf&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">&quot;btn btn-info btn-block&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">onclick</span>=<span class="string">&quot;dihejk()&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">          开始解析</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">          <span class="attr">id</span>=<span class="string">&quot;bf&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">&quot;btn btn-warning btn-block&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">onclick</span>=<span class="string">&quot;dihejk2()&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">          全屏播放</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--公告--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">getNowFormatDate</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> month = date.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> strDate = date.<span class="title function_">getDate</span>();</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> currentdate = month + <span class="string">&quot;月&quot;</span> + strDate + <span class="string">&quot;日&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> currentdate;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> text = [<span class="string">&quot;本站不保存任何视频。所有资源来自于网络！！！&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          content = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; text.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">          content += i + <span class="number">1</span> + <span class="string">&quot;. &quot;</span> + text[i] + <span class="string">&quot;\n&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">swal</span>(<span class="title function_">getNowFormatDate</span>() + <span class="string">&quot;通知&quot;</span>, content, <span class="string">&quot;success&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><h2 id="最简单"><a href="#最简单" class="headerlink" title="最简单"></a>最简单</h2><p>创建一个 HTML 标签，把上面的内容复制进去，在本地使用</p><h2 id="动态博客使用"><a href="#动态博客使用" class="headerlink" title="动态博客使用"></a>动态博客使用</h2><p>在后台新建<code>插入HTML代码</code>即可使用</p><h2 id="静态博客使用"><a href="#静态博客使用" class="headerlink" title="静态博客使用"></a>静态博客使用</h2><p>直接在<code>MD</code>文件中粘贴以上代码（需要打开渲染器的 HTML 插入功能）</p><h1 id=""><a href="#" class="headerlink" title=""></a></h1>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 视频解析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自定义网站字体</title>
      <link href="/posts/42dc9a81.html"/>
      <url>/posts/42dc9a81.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>说到网站字体，chrome 支持性是最好的，IE 是最差的，为了防止 IE 对我们字体的残害，让我们一起抵制 IE 吧<br>话归正传，自定义全局字体是很简单的，只需要几行 CSS 就成</p><h2 id="各大浏览器支持字体格式"><a href="#各大浏览器支持字体格式" class="headerlink" title="各大浏览器支持字体格式"></a>各大浏览器支持字体格式</h2><table><thead><tr><th>浏览器</th><th>eot</th><th>woff&#x2F;woff2</th><th>ttf</th><th>svg</th></tr></thead><tbody><tr><td>IE</td><td>√</td><td>√</td><td>√（9+）</td><td></td></tr><tr><td>chrome</td><td></td><td>√</td><td>√</td><td>√</td></tr><tr><td>firefox</td><td></td><td>√</td><td>√</td><td></td></tr><tr><td>Safari</td><td></td><td>√</td><td>√</td><td>√</td></tr></tbody></table><h2 id="引入字体"><a href="#引入字体" class="headerlink" title="引入字体"></a>引入字体</h2><p>引入字体的 CSS 代码就用阿里的举例吧</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#x27;webfont&#x27;;/*这里为自定义引入字体的名称（后面会使用）*/</span><br><span class="line">  font-display: swap;</span><br><span class="line">  src: url(&#x27;//at.alicdn.com/t/webfont_3nif3r3wsh1.eot&#x27;); /* IE9*/</span><br><span class="line">  src: url(&#x27;//at.alicdn.com/t/webfont_3nif3r3wsh1.eot?#iefix&#x27;) format(&#x27;embedded-opentype&#x27;), /* IE6-IE8 */</span><br><span class="line">  url(&#x27;//at.alicdn.com/t/webfont_3nif3r3wsh1.woff2&#x27;) format(&#x27;woff2&#x27;),</span><br><span class="line">  url(&#x27;//at.alicdn.com/t/webfont_3nif3r3wsh1.woff&#x27;) format(&#x27;woff&#x27;), /* chrome、firefox */</span><br><span class="line">  url(&#x27;//at.alicdn.com/t/webfont_3nif3r3wsh1.ttf&#x27;) format(&#x27;truetype&#x27;), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/</span><br><span class="line">  url(&#x27;//at.alicdn.com/t/webfont_3nif3r3wsh1.svg#思源黑体-粗&#x27;) format(&#x27;svg&#x27;); /* iOS 4.1- */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用过程中仅需要保留自己需要的字体格式，替换掉字体地址即可<br>例如本站所使用的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/*自定义字体*/</span><br><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#x27;hmfont&#x27;;</span><br><span class="line">  url(&#x27;//source.cnortles.top/fonts/HarmonyOS_Sans_Bold.ttf&#x27;) format(&#x27;truetype&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">/*自定义字体*/</span><br></pre></td></tr></table></figure><h2 id="设置全局字体"><a href="#设置全局字体" class="headerlink" title="设置全局字体"></a>设置全局字体</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">html,body &#123;font-family: hmfont,Tahoma, sans-serif;&#125;</span><br></pre></td></tr></table></figure><p>这是最简单的全局字体设置，浏览器会根据字体的先后顺序引入，当前一位失效时，引入下一位</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> 字体 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网盘本地化（支持docker）</title>
      <link href="/posts/2fd44f51.html"/>
      <url>/posts/2fd44f51.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>自从工信部下令整改网盘后，现在的网盘界良心多了，有了很多可以蹭羊毛的机会，今天这篇文章介绍的是如何将网盘挂载为本地硬盘使用。</p><h1 id="软件信息"><a href="#软件信息" class="headerlink" title="软件信息"></a>软件信息</h1><blockquote><p><em>功能：查看文件夹大小、使用第三方播放器播放视频、文件重命名、全局下载带宽控制、全盘搜索功能<br>本地上传、本地下载、115 秒传迁移到阿里云盘、网络盘、本地盘互换、文件夹灵活挂载等</em> &gt; <em>软件介绍</em></p></blockquote><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>下载<a href="https://pan.cnortles.top/d/%E8%B5%84%E6%BA%90/%E8%BD%AF%E4%BB%B6/windows/%E9%98%BF%E9%87%8C%E4%BA%91%E7%9B%98%E5%8F%98%E6%9C%AC%E5%9C%B0%E7%A1%AC%E7%9B%9864%E4%BD%8D1.1.59.2.exe?sign=bde3f2ff1906f69b">软件</a>，安装即可（此软件由 nodejs 编写而成）</p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol><li>上传默认缓存文件到 C 盘，网页可以查看上传任务，上传完自动删除缓存（网页可以设置缓存位置）</li><li>最好不要直接从网上下载资源到本地挂载的磁盘里（包括百度设置下载目录到挂载磁盘）</li><li>不适合用来打游戏或者在线编辑文档（为了防止文件丢失记得做好备份）</li><li>旧版本可以正常使用就不建议更新新版本了（尝鲜的可以忽视）</li><li>挂载的盘可以选择挂载为本地或者网络盘，自己觉得哪种好用就选哪种(网页设置挂载盘符类型)</li><li>盘符为零字节、网页空白（登陆失效，需要扫码重新登陆）</li><li>经常重新登陆可以试试 refresh_token 登录(阿里云盘链接里面有登陆教程)</li><li>文件访问卡可以考虑查看方式设置为详细信息查看(鼠标右键查看即可看到)</li><li>登录不了就卸载安装新版本或者安装旧版本看看(密码忘记就重新编个邮箱注册)</li><li>本地上传到网盘，建议从网页添加本地文件夹，然后网页移动文件夹到网盘(不会二次占用本地空间)</li><li>打开文件视频卡和网速有关(没网是运行不了的)</li></ol><h1 id="docker-安装"><a href="#docker-安装" class="headerlink" title="docker 安装"></a>docker 安装</h1><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p><a href="https://hub.docker.com/r/cloudnas/clouddrive">https://hub.docker.com/r/cloudnas/clouddrive</a></p><h2 id="镜像拉取"><a href="#镜像拉取" class="headerlink" title="镜像拉取"></a>镜像拉取</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull cloudnas/clouddrive</span><br></pre></td></tr></table></figure><h2 id="更新镜像"><a href="#更新镜像" class="headerlink" title="更新镜像"></a>更新镜像</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker-compose pull</span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p>请勿在网盘中存放贵重文件！！！<br>请勿在网盘中存放贵重文件！！！<br>请勿在网盘中存放贵重文件！！！<br>请勿在网盘中存放贵重文件！！！<br>请勿在网盘中存放贵重文件！！！</p>]]></content>
      
      
      <categories>
          
          <category> 资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>生物神经系统</title>
      <link href="/posts/9ec5b301.html"/>
      <url>/posts/9ec5b301.html</url>
      
        <content type="html"><![CDATA[<h1 id="神经元"><a href="#神经元" class="headerlink" title="神经元"></a>神经元</h1><h2 id="地位"><a href="#地位" class="headerlink" title="地位"></a>地位</h2><p>是神经系统的基本单位和重要组成</p><h2 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h2><h3 id="胞体"><a href="#胞体" class="headerlink" title="胞体"></a>胞体</h3><p>含有细胞核</p><h3 id="突体"><a href="#突体" class="headerlink" title="突体"></a>突体</h3><h3 id="树突"><a href="#树突" class="headerlink" title="树突"></a>树突</h3><p>有胞体延伸形成，不端向外延伸，呈树突状<br>多为感觉神经，接受信号，传递给胞体，一个神经元细胞有 1 ～多个</p><h3 id="轴突"><a href="#轴突" class="headerlink" title="轴突"></a>轴突</h3><p>为细胞膜的延伸（细胞膜旅游流动性），多为传递信号，可以延长，在人体中最长可达 1m<br>一个神经元细胞一般只有一个</p><h4 id="神经纤维"><a href="#神经纤维" class="headerlink" title="神经纤维"></a>神经纤维</h4><p>轴突和髓鞘在一起构成神经纤维</p><h4 id="细胞末梢"><a href="#细胞末梢" class="headerlink" title="细胞末梢"></a>细胞末梢</h4><p>在轴突不端的延伸中，最后结束的部分</p><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="联络神经元细胞"><a href="#联络神经元细胞" class="headerlink" title="联络神经元细胞"></a>联络神经元细胞</h3><p>多在脑干和脊髓，起到中间联络作用</p><h3 id="传入神经元细胞（感觉神经元细胞）"><a href="#传入神经元细胞（感觉神经元细胞）" class="headerlink" title="传入神经元细胞（感觉神经元细胞）"></a>传入神经元细胞（感觉神经元细胞）</h3><p>树突多，传导神经信号</p><h3 id="输出神经元细胞（运动神经元细胞）"><a href="#输出神经元细胞（运动神经元细胞）" class="headerlink" title="输出神经元细胞（运动神经元细胞）"></a>输出神经元细胞（运动神经元细胞）</h3><p>轴突长，树突发达，多位于肌肉和腺体之中</p><h2 id="胶质细胞"><a href="#胶质细胞" class="headerlink" title="胶质细胞"></a>胶质细胞</h2><h4 id="小胶质细胞"><a href="#小胶质细胞" class="headerlink" title="小胶质细胞"></a>小胶质细胞</h4><h4 id="星形胶质细胞"><a href="#星形胶质细胞" class="headerlink" title="星形胶质细胞"></a>星形胶质细胞</h4><p>链接神经元细胞和毛细血管，为神经元细胞供给养分和能源</p><h4 id="寡树突胶质细胞"><a href="#寡树突胶质细胞" class="headerlink" title="寡树突胶质细胞"></a>寡树突胶质细胞</h4><h1 id="神经系统"><a href="#神经系统" class="headerlink" title="神经系统"></a>神经系统</h1><h2 id="中枢神经系统『CNS』"><a href="#中枢神经系统『CNS』" class="headerlink" title="中枢神经系统『CNS』"></a>中枢神经系统『CNS』</h2><h3 id="组成-1"><a href="#组成-1" class="headerlink" title="组成"></a>组成</h3><ul><li>大脑：分为左右两个半脑，拥有大脑皮层『最高级神经中枢』</li><li>脊髓：含有神经系统，调节低级神经中枢</li><li>丘脑：综合，筛选信息，传递给大脑皮层</li><li>下丘脑：调节人体温度，水平衡，血糖平衡，控制生物节律</li><li>小脑：起到校对作用，控制平衡，协调运动，喝酒会对其麻痹</li><li>脑干：连接脊髓和脑部分的中要通路，维持生命必要活动的中枢</li></ul><h2 id="外围神经系统（周围神经系统）『PNS』"><a href="#外围神经系统（周围神经系统）『PNS』" class="headerlink" title="外围神经系统（周围神经系统）『PNS』"></a>外围神经系统（周围神经系统）『PNS』</h2><h3 id="组成-2"><a href="#组成-2" class="headerlink" title="组成"></a>组成</h3><ul><li>脑神经：一共有 12 对，负责管理头部感觉和运动</li><li>脊神经：31 对，分布于四肢和躯干，负责管理四肢躯干的感觉和运动</li></ul><h3 id="传入神经"><a href="#传入神经" class="headerlink" title="传入神经"></a>传入神经</h3><p>传入神经又称感觉神经，负责传递神经冲突到胞体，一般为树突</p><h3 id="传出神经"><a href="#传出神经" class="headerlink" title="传出神经"></a>传出神经</h3><p>传出神经，又称运动神经，细胞有神经纤维组成负责将大脑的策略传递</p><h4 id="躯体神经系统"><a href="#躯体神经系统" class="headerlink" title="躯体神经系统"></a>躯体神经系统</h4><h4 id="植物性神经系统（又称自主神经系统，内脏神经系统）"><a href="#植物性神经系统（又称自主神经系统，内脏神经系统）" class="headerlink" title="植物性神经系统（又称自主神经系统，内脏神经系统）"></a>植物性神经系统（又称自主神经系统，内脏神经系统）</h4><ul><li>肠神经系统『消化』</li><li>交感神经系统『兴奋』</li><li>副交感神经系统『安稳』</li></ul><h1 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>在中枢神经的参与下，机体对内部&#x2F;外部环境改变所做出的规律性反应</p><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>感受器 → 输入神经 → 联络神经细胞 → 大脑皮层 → 输出神经细胞 → 效应器</p><h2 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h2><ul><li>有一定的刺激</li><li>有完整的反射弧</li></ul><h2 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h2><h3 id="非条件反射"><a href="#非条件反射" class="headerlink" title="非条件反射"></a>非条件反射</h3><p>动物&#x2F;植物出生就有，不需要后天培养</p><h3 id="条件反射"><a href="#条件反射" class="headerlink" title="条件反射"></a>条件反射</h3><p>动物在后天学习工作中培养而来，一般以非条件反射为基础</p><h4 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h4><p>使动物更加灵活，更好的适应环境</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高中 </tag>
            
            <tag> 生物 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>制作一个IP查询小接口</title>
      <link href="/posts/9aff0b88.html"/>
      <url>/posts/9aff0b88.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>喜欢上网冲浪的同学们应该发现了，最近越来越多的平台开始支持 IP 地址显示了，咱也要紧跟时代的步伐，于是有了今天的文章，为网站加入 IP 显示</p><h2 id="自建-IP-地址查询接口"><a href="#自建-IP-地址查询接口" class="headerlink" title="自建 IP 地址查询接口"></a>自建 IP 地址查询接口</h2><p><code>10000次</code><strong>依据腾讯地图服务自建接口</strong></p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol><li>前往<a href="https://lbs.qq.com/">腾讯地图官网</a>注册账号（推荐使用微信登录）</li><li>完成基础认证成为个人开发者（个人开发者拥有一天 10000 次调用）</li><li>可选择是否认证企业（免费额度更大，可购买套餐包）</li></ol><h2 id="创建一个应用"><a href="#创建一个应用" class="headerlink" title="创建一个应用"></a>创建一个应用</h2><ol><li>前往<a href="https://lbs.qq.com/dev/console/application/mine">开发控制台</a>创建一个应用<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FtOCEJ7a_YidCk64iB-fmjfcDdlr.png">信息自己填</li><li>在应用中添加一个 KEY（注意：这个 KEY 关乎接口调用，请保存好，避免额度被盗用，<code>类型选择webService</code>）<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FtOCEJ7a_YidCk64iB-fmjfcDdlr.png"></li><li>创建好后可前往<a href="https://lbs.qq.com/service/webService/webServiceGuide/webServiceIp">文档</a>查看（官方接口为：<a href="https://apis.map.qq.com/ws/location/v1/ip">https://apis.map.qq.com/ws/location/v1/ip</a>）</li></ol><h2 id="创建-api"><a href="#创建-api" class="headerlink" title="创建 api"></a>创建 api</h2><h3 id="php-案例"><a href="#php-案例" class="headerlink" title="php 案例"></a>php 案例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    $ip_user=$_GET[&#x27;ip&#x27;];</span><br><span class="line">    if (empty($ip_user))</span><br><span class="line">        &#123;$ip_user = $_SERVER[&quot;REMOTE_ADDR&quot;];&#125;</span><br><span class="line">    $ip_seekurl=&#x27;https://apis.map.qq.com/ws/location/v1/ip?ip=&#x27;.$ip_user.&#x27;&amp;key=&#x27;添加的KEY&#x27;;</span><br><span class="line">    $ip_mes = file_get_contents($ip_seekurl,true);</span><br><span class="line">    $data = json_decode($ip_mes,true);</span><br><span class="line">    $var_ip = $data[&#x27;result&#x27;][&#x27;ad_info&#x27;];</span><br><span class="line">    $nation = $var_ip[&#x27;nation&#x27;];</span><br><span class="line">    $province = $var_ip[&#x27;province&#x27;];</span><br><span class="line">    $district=$var_ip[&#x27;district&#x27;];</span><br><span class="line">    $city = $var_ip[&#x27;city&#x27;];</span><br><span class="line">    $ip = array(</span><br><span class="line">        &#x27;nation&#x27; =&gt; $nation,</span><br><span class="line">        &#x27;province&#x27; =&gt; $province,</span><br><span class="line">        &#x27;city&#x27;=&gt;$city,</span><br><span class="line">        &#x27;district&#x27; =&gt; $district,);</span><br><span class="line">    $ip_js = &#x27;var ip_mes = &#x27;.json_encode($ip,JSON_UNESCAPED_UNICODE).&#x27;;&#x27;;</span><br><span class="line">    print($ip_js);</span><br><span class="line">    return $ip_js;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>因为淘宝 IP 库在 2022 年 3 月 31 日永久停止服务后，站长就开始找寻可替代方案，一开始的计划是自建数据库，但一想到更新问题就头疼的厉害，在<del>网上冲浪了一波</del>认真查询了一番后决定用腾讯地图提供的服务自建接口</p><h2 id="接入本站接口"><a href="#接入本站接口" class="headerlink" title="接入本站接口"></a>接入本站接口</h2><p><a href="https://api.cnortles.top/ip">https://api.cnortles.top/ip</a></p><h3 id="介入方法"><a href="#介入方法" class="headerlink" title="介入方法"></a>介入方法</h3><table><thead><tr><th>参数</th><th>值</th></tr></thead><tbody><tr><td>ip</td><td>查询地址 IP 采用 GET 方式传输，如果缺省，本站会自动获取客户端 IP 查询！</td></tr></tbody></table><h4 id="使用示例-GET"><a href="#使用示例-GET" class="headerlink" title="使用示例(GET)"></a>使用示例(GET)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://api.cnortles.top/ip?ip=223.5.5.5</span><br></pre></td></tr></table></figure><h3 id="参数返回说明"><a href="#参数返回说明" class="headerlink" title="参数返回说明"></a>参数返回说明</h3><p>本站默认返回 JS 元组（已定义好变量），精度最大可到区，下面是一段示例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var ip_mes=&#123;&quot;nation&quot;:&quot;中国&quot;,&quot;province&quot;:&quot;陕西省&quot;,&quot;city&quot;:&quot;西安市&quot;,&quot;district&quot;:&quot;莲湖区&quot;&#125;;</span><br></pre></td></tr></table></figure><table><thead><tr><th>返回参数</th><th>值（value）</th></tr></thead><tbody><tr><td>nation</td><td>IP 所属国家</td></tr><tr><td>province</td><td>IP 所属省份</td></tr><tr><td>city</td><td>IP 所属城市</td></tr><tr><td>district</td><td>IP 所属区域</td></tr></tbody></table><h3 id="调用接口"><a href="#调用接口" class="headerlink" title="调用接口"></a>调用接口</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;//api.cnortles.top/ip/&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="使用案列"><a href="#使用案列" class="headerlink" title="使用案列"></a>使用案列</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=&#x27;ip&#x27;&gt;&lt;/span&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://api.cnortles.top/ip/&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      document.getElementById(&quot;ip&quot;).innerHTML =  ip_mes[&quot;nation&quot;]+&#x27;,&#x27;+ ip_mes[&quot;city&quot;];</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>因为返回数据是 JS 元组所以只需要使用<code>ip_mes[&quot;返回参数值&quot;]即可调用</code>在配合 JS 输出即可</p><h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;shortcut icon&quot; href=&quot;/custom/img/favicon.png&quot;&gt;</span><br><span class="line">    &lt;title&gt;ERROR:对不起，你的内核不支持！&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .container &#123;</span><br><span class="line">            width: 60%;</span><br><span class="line">            margin: 10% auto 0;</span><br><span class="line">            background-color: #f0f0f0;</span><br><span class="line">            padding: 2% 5%;</span><br><span class="line">            border-radius: 25px;</span><br><span class="line">            opacity: 0.5;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        footer&#123;</span><br><span class="line">          text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        body&#123;</span><br><span class="line">          background: url(https://api.cnortles.top/img?type=wallpaper);</span><br><span class="line">        &#125;</span><br><span class="line">        ul &#123;</span><br><span class="line">            padding-left: 20px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">            ul li &#123;</span><br><span class="line">                line-height: 2.3</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        a &#123;</span><br><span class="line">            color: #20a53a</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/custom/css/gongji.css&quot;&gt;</span><br><span class="line">&lt;script async src=&quot;/custom/js/grayscale.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;h1&gt;您所使用的浏览器我们无法提供服务！&lt;/h1&gt;</span><br><span class="line">        &lt;h3&gt;以下信息由系统自动生成&lt;/h3&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;UA: &lt;span id=&#x27;ua&#x27;&gt;&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;版本号: &lt;span id=&#x27;version&#x27;&gt;&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;当前IP：&lt;span id=&#x27;ip&#x27;&gt;&lt;/span&gt;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://api.cnortles.top/ip/&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      /*document.getElementById(&quot;name&quot;).innerHTML=navigator.appName; */</span><br><span class="line">      document.getElementById(&quot;version&quot;).innerHTML=navigator.appVersion;</span><br><span class="line">      document.getElementById(&quot;ua&quot;).innerHTML=navigator.userAgent;</span><br><span class="line">      document.getElementById(&quot;ip&quot;).innerHTML =  ip_mes[&quot;nation&quot;]+&#x27;,&#x27;+ ip_mes[&quot;city&quot;];</span><br><span class="line">      console.log(&#x27;browser kernel is not to bd supported!&#x27;);</span><br><span class="line">      console.log(&#x27;拒绝IE，从你我开始&#x27;);</span><br><span class="line">      /*alert(&#x27;拒绝IE，从你我做起,来自&#x27;+returnCitySN[&quot;cname&quot;]+&#x27;的朋友&#x27;);*/</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO DO"></a>TO DO</h2><ul><li><input disabled="" type="checkbox"> 增加多种返回值参数</li><li><input disabled="" type="checkbox"> 增加境外 IP 查询</li><li><input disabled="" type="checkbox"> 增加 token 授权（暂定）</li><li><input disabled="" type="checkbox"> 自建 IP 查询库（开发中）</li></ul>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> API </tag>
            
            <tag> IP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>物质的第四态（科普）</title>
      <link href="/posts/62ba053c.html"/>
      <url>/posts/62ba053c.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>摘要：在初中物理，我们学习了物质有三态——气态、液态、固态，但在生活中、除了有这三种物态，还有一种物态叫做等离子态，我们生活中‘高温火焰’就处于等离子态，也就是等离子体</p></blockquote><h1 id="等离子态的定义："><a href="#等离子态的定义：" class="headerlink" title="等离子态的定义："></a><strong>等离子态的定义：</strong></h1><p>在物理中将物质分为了六态（气态、液态、固态、等离子态、超固态、中子态），在初中的物理中我们学习了其中的三态，也是我们生活中最常见的三态——气态、液态、固态。<br>等离子态说起来你可能感觉这并不常见，实则不然，在生活中等离子态可是很常见的，在探究生活中什么物质是等离子态之前，我们先看看它的定义：</p><p>物质原子内的电子在脱离原子核的吸引而形成带负电的自由电子和带正电的离子共存的状态，此时，电子和离子带的电荷相反，但数量相等，这种状态称作等离子态，同时我们将处于等离子态的物质称作等离子体。（等离子体由克鲁克斯在 1879 年发现）<br>等离子态常被称为超气态，它和气体有很多相似之处，没有确定形状和体积，具有流动性，但等离子也有很多独特的性质。普通气体由电中性的分子或原子组成，而等离子体则是带电粒子和中性粒子的集合体。<br>等离子体是一种导电流体，但是又能在与气体体积相比拟的宏观尺度内维持电中性；等离子体中的带电粒子之间存在库仑力；作为一个带电粒子体系，等离子体的运动行为会受到电磁场的影响和支配。一般的气体的速率会满足麦斯克韦分布，但等离子体会和电场耦合，可能会派能力麦克斯韦分布。</p><h1 id="等离子态的形成："><a href="#等离子态的形成：" class="headerlink" title="等离子态的形成："></a><strong>等离子态的形成：</strong></h1><p>我们可以通过高温或者使用紫外线、X 射线、丙种射线以及电磁场来照射气体（利用辐射形成的等离子体为非热平衡的电离），使气体发生电离，但并不是所有电离的气体都能称作是等离子体的，电离的气体其空间尺度 L 要远远大于德拜长度 D（L&gt;&gt;D）（德拜长度是等离子体宏观空间尺度的下限），存在时间要远远大于 P（p 为等离子气体的振荡周期是等离子体存在时间尺度的下限）<br>在低温的条件下气体中的正离子和负电子会再度合成一个原子，所以并不会形成等离子体。</p><h1 id="等离子体的分类："><a href="#等离子体的分类：" class="headerlink" title="等离子体的分类："></a><strong>等离子体的分类：</strong></h1><p>等离子体按照温度可分为高温等离子体和低温等离子体，低温等离子体又可以细分为热等离子和冷等离子体。<br>高温等离子体中的原子几乎都被电离，负电子温度与正离子温度几乎相等，这种气体处于热力学平衡状态，一般具有很高的温度。<br>低温等离子体中的部分原子被电离，在其中负电子的温度远远高于正离子的温度。热等离子温度较高，处于部分热力学平衡状态。冷等离子温度接近室温，处于非热力学平衡状态。</p><h1 id="等离子体的应用："><a href="#等离子体的应用：" class="headerlink" title="等离子体的应用："></a><strong>等离子体的应用：</strong></h1><h2 id="生活中："><a href="#生活中：" class="headerlink" title="生活中："></a><strong>生活中：</strong></h2><p>生活中的霓虹灯，在点亮之前，灯管里的气体需要被电离，形成等离子体，其中多余的能量会以光子的形式发射出来，这样就完成了霓虹灯的点亮。（此处不过多介绍霓虹灯的原理）<br>电离层是气体电离的区域，在这其中部分被电离的区域称作电离层，完全被电离的区域称作磁层，也有人将大气中被电离的区域统称为电离层，不管怎么说，电离层就是等离子体，在生活中，我们的短波通信就是依赖于电离层。<br>前面有提及，在高温环境下可以发生电离现象，形成等离子体，在形成等离子体以后，会发出大量热，具有很高的温度，因此我们可以用它切割金属，在工业上就有了等离子弧切割。<br>在高温高压的环境下，核外电子可以摆脱原子核的掌控，让两个原子核可以相互吸引且发生碰撞，这就是核聚变的过程，因此在发生核聚变的物质就处于等离子态。<br>因为等离子体是一个带电粒子体系，可以规避探测系统的扫描，因此在军工中可以用此制作‘隐身装备’。</p><h2 id="宇宙中："><a href="#宇宙中：" class="headerlink" title="宇宙中："></a><strong>宇宙中：</strong></h2><p>在宽广的宇宙中，等离子态是物质普遍存在的状态。宇宙中大部分发光的恒星内部都是高温高压的环境，所以在这样的环境下发生核聚变反应，物质以等离子体存在。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>目前是探索新能源的时代，核聚变就是目前处于 1 级文明之前我们的终极能源，但目前只能实现不可控能源，不能让核聚变的能量慢慢释放，所以目前探索约束离子体是可控核聚变的核心。</p><blockquote><p>本文文献参考：<br><a href="https://baike.baidu.com/item/%E9%9C%93%E8%99%B9%E7%81%AF/643699">百度百科</a> <a href="http://www.ipp.cas.cn/kxcb/hjbzs/">中国科学院等离子体物理研究所</a> 科普中国</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 文案 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 文章 </tag>
            
            <tag> 物理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phton基础版教程</title>
      <link href="/posts/37f2dd15.html"/>
      <url>/posts/37f2dd15.html</url>
      
        <content type="html"><![CDATA[<h1 id="什么是-python"><a href="#什么是-python" class="headerlink" title="什么是 python"></a>什么是 python</h1><blockquote><p>Python 由<a href="https://baike.baidu.com/item/%E8%8D%B7%E5%85%B0/190469">荷兰</a><a href="https://baike.baidu.com/item/%E6%95%B0%E5%AD%A6/107037">数学</a>和<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/9132">计算机科学</a>研究学会的<a href="https://baike.baidu.com/item/%E5%90%89%E5%A4%9A%C2%B7%E8%8C%83%E7%BD%97%E8%8B%8F%E5%A7%86/328361">吉多·范罗苏姆</a> 于 1990 年代初设计，作为一门叫做<a href="https://baike.baidu.com/item/ABC%E8%AF%AD%E8%A8%80/334996">ABC 语言</a>的替代品。 Python 提供了高效的高级<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1450">数据结构</a>，还能简单有效地<a href="https://baike.baidu.com/item/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/2262089">面向对象</a>编程。Python 语法和动态类型，以及<a href="https://baike.baidu.com/item/%E8%A7%A3%E9%87%8A%E5%9E%8B%E8%AF%AD%E8%A8%80/8888952">解释型语言</a>的本质，使它成为多数平台上写<a href="https://baike.baidu.com/item/%E8%84%9A%E6%9C%AC/1697005">脚本</a>和快速开发应用的编程语言， 随着版本的不断更新和语言新功能的添加，逐渐被用于独立的、<a href="https://baike.baidu.com/item/%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE/3986637">大型项目</a>的开发。<br>Python<a href="https://baike.baidu.com/item/%E8%A7%A3%E9%87%8A%E5%99%A8/10418965">解释器</a>易于扩展，可以使用<a href="https://baike.baidu.com/item/C%E8%AF%AD%E8%A8%80/105958">C 语言</a>或<a href="https://baike.baidu.com/item/C%2B%2B/99272">C++</a>（或者其他可以通过 C 调用的语言）扩展新的功能和<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/10997964">数据类型</a>。 [4] Python 也可用于可定制化软件中的扩展程序语言。Python 丰富的标准库，提供了适用于各个主要系统平台的<a href="https://baike.baidu.com/item/%E6%BA%90%E7%A0%81/344212">源码</a>或<a href="https://baike.baidu.com/item/%E6%9C%BA%E5%99%A8%E7%A0%81/86125">机器码</a>。<br>2021 年 10 月，语言流行指数的编译器 Tiobe 将 Python 加冕为最受欢迎的编程语言，20 年来首次将其置于 Java、C 和 JavaScript 之上。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 编程学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用PHP+图床搭建随机API</title>
      <link href="/posts/762d4b0f.html"/>
      <url>/posts/762d4b0f.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>网上有很多随机图片的教程，本文主要使用 PHP 读取 txt 文件中记录的图片链接达到随机图片的效果</p><h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><ol><li>准备 PHP 环境（推荐 PHP 版本 ≥7.4）</li><li>新建项目目录</li><li>获取图片链接，并保存在*.txt 文件中（一行一个链接）</li></ol><div class="note warning flat"><p>如果只需要代码，可通过右侧的目录跳转至<mark class="hl-label blue"><a href="762d4b0f#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">完整代码</a></mark> 获取<br>2-4 日更新：修改判断机制</p></div><h1 id="步骤讲解"><a href="#步骤讲解" class="headerlink" title="步骤讲解"></a>步骤讲解</h1><h2 id="主体函数"><a href="#主体函数" class="headerlink" title="主体函数"></a>主体函数</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//打开一个名为*.txt的文件，此处使用$filename代替</span></span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&quot;\n&quot;</span>, <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="comment">// 2.得到的一个String的数组，然后获取随机索引</span></span><br><span class="line"><span class="variable">$rand_index</span> = <span class="title function_ invoke__">rand</span>(<span class="number">0</span>,<span class="title function_ invoke__">count</span>(<span class="variable">$str</span>)-<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 根据生成的随机数选取index为$rand_index的图片链接</span></span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$str</span>[<span class="variable">$rand_index</span>];</span><br><span class="line"><span class="comment">// 3.重定向到目标url,返回302码,然后浏览器就会跳转到图片url的地址</span></span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$url</span>));</span><br></pre></td></tr></table></figure><h2 id="实现判断设备类型功能"><a href="#实现判断设备类型功能" class="headerlink" title="实现判断设备类型功能"></a>实现判断设备类型功能</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取USER AGENT</span></span><br><span class="line"><span class="variable">$agent</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>]);</span><br><span class="line"><span class="comment">//分析数据</span></span><br><span class="line"><span class="variable">$is_pc</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;windows nt&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_iphone</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;iphone&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_ipad</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;ipad&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_android</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;android&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_linux</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;linux&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_harmonyOS</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;harmonyOS&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="comment">//输出数据</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_android</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; !<span class="variable">$is_android</span> &amp;&amp; !<span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_pc</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_iphone</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_ipad</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_android</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在此代码中，img()函数即为上一部的主体函数（最后会有完全体的代码），这一步通过读取 UA 后利用 strpos 进行下一步的判断，此处用的 stripos 函数（不用区分大小写）<br>如果需要自定义不同设备使用的图片源，请替换 mobile.txt&#x2F;pc.txt</p><h2 id="增加客户端请求图片类型功能"><a href="#增加客户端请求图片类型功能" class="headerlink" title="增加客户端请求图片类型功能"></a>增加客户端请求图片类型功能</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$img_type</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;type&#x27;</span>];</span><br></pre></td></tr></table></figure><p>示范链接<a href="https://api.cnortles.top/img/?type=wallpaper">https://api.cnortles.top/img/?type=wallpaper</a><br>这一步的原理为通过 get 向 PHP 提交参数</p><h1 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h1><h2 id="只具备随机图片功能"><a href="#只具备随机图片功能" class="headerlink" title="只具备随机图片功能"></a>只具备随机图片功能</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&quot;\n&quot;</span>, <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="variable">$rand_index</span> = <span class="title function_ invoke__">rand</span>(<span class="number">0</span>,<span class="title function_ invoke__">count</span>(<span class="variable">$str</span>)-<span class="number">1</span>);</span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$str</span>[<span class="variable">$rand_index</span>];</span><br><span class="line"><span class="variable">$img_url</span> = <span class="title function_ invoke__">str_re</span>(<span class="variable">$url</span>);</span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$img_url</span>));</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">str_re</span>(<span class="params"><span class="variable">$str</span></span>)</span>&#123;</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27; &#x27;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line">  <span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\t&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\r&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$str</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>其中$filename修改为你的TXT文件地址，如果失败，请删除第五行，并修改第六行$img_url 为$url</p><h2 id="支持判断客户端请求的图片类型"><a href="#支持判断客户端请求的图片类型" class="headerlink" title="支持判断客户端请求的图片类型"></a>支持判断客户端请求的图片类型</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;meta name=&quot;referrer&quot; content=&quot;never&quot;&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$img_type</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;type&#x27;</span>];</span><br><span class="line"><span class="variable">$url_404</span>=<span class="string">&#x27;https://pan.cnortles.top/&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$img_type</span>)) &#123;<span class="comment">//判断$img_type是否初始化</span></span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;您的参数有问题！&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">img</span>(<span class="params"><span class="variable">$filename</span></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$filename</span>)) &#123;<span class="comment">//判断请求文件是否存在</span></span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&quot;\n&quot;</span>, <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="variable">$rand_index</span> = <span class="title function_ invoke__">rand</span>(<span class="number">0</span>,<span class="title function_ invoke__">count</span>(<span class="variable">$str</span>)-<span class="number">1</span>);</span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$str</span>[<span class="variable">$rand_index</span>];</span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$url</span>));</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;您所请求&#x27;</span>.<span class="variable">$img_type</span>.<span class="string">&#x27;类型的图片我们暂未收录&#x27;</span>;<span class="comment">//文件不存在，报错</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">str_re</span>(<span class="params"><span class="variable">$str</span></span>)</span>&#123;</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27; &#x27;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line">  <span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\t&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\r&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$str</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><div class="note warning flat"><p>如果使用此功能，请在项目目录下创建与$img_type 同名的目录，并将 txt 放在此目录下！！！</p></div><p>示例目录结构<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fk6SLcxhJGyKJUZIprwfAIulCck5.jpeg"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">项目文件</span><br><span class="line">--index.php</span><br><span class="line">  --wallpaper</span><br><span class="line">  --pc.txt</span><br><span class="line">    --mobile.txt</span><br><span class="line">    --iphone.txt</span><br><span class="line">--二次元</span><br><span class="line">  --pc.txt</span><br><span class="line">    --mobile.txt</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h2 id="本站使用代码"><a href="#本站使用代码" class="headerlink" title="本站使用代码"></a>本站使用代码</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;meta name=&quot;referrer&quot; content=&quot;never&quot;&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$img_type</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;type&#x27;</span>];</span><br><span class="line"><span class="variable">$url_404</span>=<span class="string">&#x27;https://pan.cnortles.top/&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$img_type</span>)) &#123;</span><br><span class="line"><span class="comment">//获取USER AGENT</span></span><br><span class="line"><span class="variable">$agent</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>]);</span><br><span class="line"><span class="comment">//分析数据</span></span><br><span class="line"><span class="variable">$is_pc</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;windows nt&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_iphone</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;iphone&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_ipad</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;ipad&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_android</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;android&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_linux</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;linux&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_harmonyOS</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;harmonyOS&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="comment">//输出数据</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_android</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; !<span class="variable">$is_android</span> &amp;&amp; !<span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_pc</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_iphone</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_ipad</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_android</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;/mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;您的参数有问题！&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">img</span>(<span class="params"><span class="variable">$filename</span></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$filename</span>)) &#123;</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&quot;\n&quot;</span>, <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="comment">// 2.得到的$str是一个String的数组，然后获取随机数index</span></span><br><span class="line"><span class="variable">$rand_index</span> = <span class="title function_ invoke__">rand</span>(<span class="number">0</span>,<span class="title function_ invoke__">count</span>(<span class="variable">$str</span>)-<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 根据生成的随机数选取index为$rand_index的图片链接</span></span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$str</span>[<span class="variable">$rand_index</span>];</span><br><span class="line"><span class="comment">// 3.重定向到目标url,返回302码,然后浏览器就会跳转到图片url的地址</span></span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$url</span>));</span><br><span class="line"><span class="comment">// 替换掉一些换行、制表符等转义</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;您所请求&#x27;</span>.<span class="variable">$img_type</span>.<span class="string">&#x27;类型的图片我们暂未收录&#x27;</span>;</span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$url_404</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">str_re</span>(<span class="params"><span class="variable">$str</span></span>)</span>&#123;</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27; &#x27;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line">    <span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\t&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\r&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$str</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>项目目录结构</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">项目文件</span><br><span class="line">--index.php</span><br><span class="line">  --wallpaper</span><br><span class="line">  --pc.txt</span><br><span class="line">    --mobile.txt</span><br><span class="line">    --iphone.txt</span><br><span class="line">--二次元</span><br><span class="line">  --pc.txt</span><br><span class="line">    --mobile.txt</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h2 id="减少目录创建（补充一）"><a href="#减少目录创建（补充一）" class="headerlink" title="减少目录创建（补充一）"></a>减少目录创建（补充一）</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;meta name=&quot;referrer&quot; content=&quot;never&quot;&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$img_type</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;type&#x27;</span>];</span><br><span class="line"><span class="variable">$url_404</span>=<span class="string">&#x27;https://pan.cnortles.top/&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$img_type</span>)) &#123;</span><br><span class="line"><span class="comment">//获取USER AGENT</span></span><br><span class="line"><span class="variable">$agent</span> = <span class="title function_ invoke__">strtolower</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>]);</span><br><span class="line"><span class="comment">//分析数据</span></span><br><span class="line"><span class="variable">$is_pc</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;windows nt&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_iphone</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;iphone&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_ipad</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;ipad&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_android</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;android&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_linux</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;linux&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$is_harmonyOS</span> = (<span class="title function_ invoke__">stripos</span>(<span class="variable">$agent</span>, <span class="string">&#x27;harmonyOS&#x27;</span>)) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="comment">//输出数据</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_android</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; <span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_linux</span> &amp;&amp; !<span class="variable">$is_android</span> &amp;&amp; !<span class="variable">$is_harmonyOS</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_pc</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;pc.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_iphone</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_ipad</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$is_android</span>)&#123;</span><br><span class="line"><span class="title function_ invoke__">img</span>(<span class="variable">$img_type</span>.<span class="string">&quot;mobile.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;您的参数有问题！&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">img</span>(<span class="params"><span class="variable">$filename</span></span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$filename</span>)) &#123;</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">explode</span>(<span class="string">&quot;\n&quot;</span>, <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="comment">// 2.得到的$str是一个String的数组，然后获取随机数index</span></span><br><span class="line"><span class="variable">$rand_index</span> = <span class="title function_ invoke__">rand</span>(<span class="number">0</span>,<span class="title function_ invoke__">count</span>(<span class="variable">$str</span>)-<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 根据生成的随机数选取index为$rand_index的图片链接</span></span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$str</span>[<span class="variable">$rand_index</span>];</span><br><span class="line"><span class="comment">// 3.重定向到目标url,返回302码,然后浏览器就会跳转到图片url的地址</span></span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$url</span>));</span><br><span class="line"><span class="comment">// 替换掉一些换行、制表符等转义</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;您所请求&#x27;</span>.<span class="variable">$img_type</span>.<span class="string">&#x27;类型的图片我们暂未收录&#x27;</span>;</span><br><span class="line"><span class="keyword">die</span>(<span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$url_404</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">str_re</span>(<span class="params"><span class="variable">$str</span></span>)</span>&#123;</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&#x27; &#x27;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line">    <span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\t&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="variable">$str</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;\r&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$str</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>如果使用这种函数，请在 PHP 文件所在目录创建与$filenamepc&#x2F;mobile 同名的 TXT 文件将链接放置于此</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">项目文件</span><br><span class="line">--index.php</span><br><span class="line">  --wallpaperpc.txt</span><br><span class="line">  --wallpapermobile.txt</span><br><span class="line">  --wallpaperiphone.txt</span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>这样的，一个拥有不同设备使用不同图片，通过 get 参数读取不同类型图片功能的随机图片 API 建造完毕</p><blockquote><p>本站有提供免费 API 使用(现在只支持壁纸，更多类型的图片正在收集中)<br><a href="https://api.cnortles.top/img/?type=wallpaper">https://api.cnortles.top/img/?type=wallpaper</a></p></blockquote><ul><li><input checked="" disabled="" type="checkbox"> 函数实现原理</li><li><input checked="" disabled="" type="checkbox"> 判断设备机制</li><li><input checked="" disabled="" type="checkbox"> 图片类型选择机制</li></ul>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浅淡宇宙的多元（科创小论文）</title>
      <link href="/posts/gzwlnasa.html"/>
      <url>/posts/gzwlnasa.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>摘要：多元宇宙是无限个或有限个可能的宇宙的集合，包含了一切存在和可能存在的事物及其状态。多元宇宙的每一个宇宙都遵循自己的物理法则。一般认为，在量子领域中，所谓的规则都不稳定，时间与空间的契合度最低，一切都处于狂暴状态我们可以在这种状态下借助“爱因斯坦－罗森桥”（虫洞）穿越时空，爱因斯坦认为，虫洞是连接两个宇宙的通道。<br>关键字：多元宇宙，量子宇宙，爱因斯坦-罗森桥</p></blockquote><p>世间之大，无奇不有。我们并不能确定宇宙是否唯一，也许在这宇宙之外还有很多一样的宇宙，它们有着我们的所有，只是有着不同状态的我们。<br>初到一个从未到过的地方，你感觉十分熟悉；一件还没有做的事情，你似曾相识；从未见过的人从你身边经过，刹那之间，你是否会觉得特别熟悉？这也许就是多元宇宙存在的显影。什么是多元宇宙？宇宙中的一切都会有不同的状态，每一种状态对宇宙的影响可能大不相同，就如同薛定谔的猫——你不打开盒子，你永远也不知猫的生死；还比如双缝干涉实验，如果你观察光子，光子的干涉条纹将会消失，如果你不观察，光的干涉条纹就会出现；更比如你不探索，你永远不知道宇宙的多元。<br>从前言理论上来说，多元宇宙是无限个或有限个可能的宇宙的集合，包含了一切存在和可能存在的事物及其状态。多元宇宙的每一个宇宙都遵循自己的物理法则。在多元宇宙中，有着一些相同的宇宙就像树林中，都多少少会存在相同的树木——这样的宇宙我们称之为“平行宇宙”。“平行宇宙”是存在于量子场论中和弦论的概念。正如上文所说，宇宙中的一切事物都有着不同的状态，比如环境相同，你的状态不同亦或者你的状态相同，所处环境不同，就如，现在的你在读《相对论》而另一个宇宙的你在读《时空简史》。<br>世间让我们通过光来感受世界，于是我们就有了“眼睛”，我们通过“眼睛”来感知世界。光在反射后会向着反射方向以光速前进，所以理论上来说，我们只要能追上之前的光，就可以“察看”历史，但现实中达到这种效果充满了挑战：地球的位置并不是一成不变的，太阳系跟着太阳成螺旋方式在银河系前进，每小时 79 万公里，银河系也是在不断转动的，且在不同位置自传角速度不同，况且太阳为银河系转一圈和需要一个“银河年”（相当于 2.25~2.5 亿年），这样我们很难定位光原来的方向；光在宇宙中也会被不断吸收，直至消失。所以通过追寻光来“窥探”历史，并不可行。<br>那穿梭时间是可行的吗？在我看来那是可以的，虽然熵增定律在宏观世界已经规定了物质的发展趋势，但在最新的科学研究中，科学家发现熵增定律在量子世界可能并不适用。<br>一般的认为，在量子领域中，所谓的规则都不稳定，时间与空间的契合度最低，我们可以在这里下借助“爱因斯坦－罗森桥”（虫洞）<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fmco-W7RTzycB_-W0UPSOLGZlps3.jpeg"><br>穿越时空，但现在的你成为了过去的你，这是违反祖父悖论（及外祖母悖论，是有关时间旅行的悖论由法国科幻小说赫内•巴赫札维勒提出）的——在量子领域中还存在一个神奇的存在——平行时空，在那个世界里一切都还没有开始，一切都是原点，因此你做什么都不会改变平行时空的进程，不违反时空悖论。<br>海市蜃楼，一种光的折射现象，因此只要有光被反射，就会存在反射光的物体。然而有的海市蜃楼在地球上无迹可寻，那么，这会不会是多元宇宙在宇宙的投影呢？我认为这是的，但现在还是一个未解之谜。<br>有一种效应叫做曼德拉效应——大众对历史的集体记忆与现实并不相符，在 2009 年欧洲核子研究组织进行大型强子对撞机及量子电脑的实验，同时曼德拉效应出世，有支持这种观点的人认为，这是生活在平行宇宙的人跳跃过时空，来到了现在的平行宇宙，但这个效应目前也未被明确证实。<br>宇宙是无限的，充满无数的可能，我们目前了解甚少，因此在量子领域还存在更多的未解之谜。多元宇宙的研究，需要我们对量子世界更多的理解，我相信，终有一天我们会揭开宇宙神秘的面纱。</p><blockquote><p>本文参考文献：《相对论》 知网 百科</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 文案 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 文章 </tag>
            
            <tag> 物理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>铁磁性的秘密（科创小论文）</title>
      <link href="/posts/gzwlfe.html"/>
      <url>/posts/gzwlfe.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>摘要：铁钴镍等金属的电子排列遵循了洪特规则，因此在磁场中有了相互作用力，对外有了磁现象。<br>关键字：洪特规则 电子排列 能量最低原理</p></blockquote><p>在日常生活中，金属是一种常常使用的材料，但不同的金属拥有不同的性质，比如说：铁、钴、镍等金属具有磁性，被我们常常用在工艺亦或者工业，在我们的生活中具有重大的作用。<br>但，为什么铁、钴、镍等金属拥有强磁性呢？<br>针对这个问题，我展开了以下探究：</p><ol><li>是否是因为铁、钴、镍等金属原子结构不同？</li><li>铁、钴、镍等金属的电子排列是否独特？</li></ol><p>为了简便探究，我统一用了铁（Fe）作为了本次探究活动的对象：</p><h2 id="第一种猜想："><a href="#第一种猜想：" class="headerlink" title="第一种猜想："></a>第一种猜想：</h2><p>通过了解相关信息我们知道了磁现象的本质，就是核外电子在绕核运动时，产生了磁场。那么所有的金属都应该具有磁现象，但为何铁等金属的磁现象如此的强呢？</p><p>再进一步的了解，我们知道现阶段磁性物理学认为材料的磁性有三种来源：原子核磁矩，电子自旋磁矩以及轨道电子运动产生的轨道磁矩。后两种是主要的。由此可知金属需要外磁场才能具有磁现象，但铁可以自发磁化，不需要外磁场，因此铁具有了强磁性。<br>综上所述，经过第一个探究我们知道了铁的原子结构是有一些不同的。</p><h2 id="第二种猜想："><a href="#第二种猜想：" class="headerlink" title="第二种猜想："></a>第二种猜想：</h2><p>量子力学告诉我们，电子在原子核外的运动是分层的，每层可以安放的电子也是不同的。根据能量最低原理，我们可以知道 所有的电子都应该倾向于待在内层，因为在原子的内层，能量是最低的所以更加稳定。<br>但实际并非如此的，在 1945 年奥地利物理学家泡利发现了泡利不相容原理——在一个物理系统中，不能有两个费米子（再本探究中为电子）不可以同处一个状态。有了泡利不相容原理我们就可以解释为什么原子内层只能放两个原子了——因为原子的内层只有一个电子轨道，在这个轨道中，它的能量和状态都已经是被确定了的，再加上电子具有自旋（两个电子的磁极指向相反），所以可以放下两个电子（状态不完全相同，因此不违反泡利不相容原理）。<br>那剩下的电子只能去其他层了——第二层，具有 4 个分轨道，可以容纳 8 个电子；第三层，具有 9 个分轨道，可以放 18 个电子……所以以此类推我们可以知道，Fe 是第 26 号元素，这样的话，第一层可以放 2 个电子，第二层可以放 8 个电子，第三层可以放 16 个电子——通过推到你可以发现 16 个电子并不能填满第三层，所以对于外层电子来说，它们可以选择不同的轨道，既可以两两配对去占据一个轨道，也可以一个占据一个轨道。<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FrMXskpJxNQLGNkbSKKBPaYnyFhP.png"><br>所以铁原子的电子究竟是怎样排列的？遵循洪特规则排列——每一个电子占据一个分轨道，这样偏离的话，能量最低。<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FqWcrXFWZKvnGdgWcTxQXvYF7aD_.png"><br>通过研究我们发现，铁原子的电子并不能按照设想抵消（电子的南北两极相反，可以相互抵消对外显中性），因此对外显磁性，所以你用一个吸铁石建立一个磁场，铁就可以和这个磁场具有相互作用。<br>综上所述，铁钴镍等元素具有特殊的电子排列方式，因此电子所带来的磁性不能被抵消，在磁场中可以具有相互作用力，产生磁现象。</p><blockquote><p>本文资料来自 知网 百科（百度，维基，头条） 《有趣的物理》<br>PS：排名不分先后</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 文案 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 文章 </tag>
            
            <tag> 物理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用Hexo框架搭建静态博客</title>
      <link href="/posts/697f76e7.html"/>
      <url>/posts/697f76e7.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>有很多开源的动态博客框架，我们为什么要用静态博客框架呢？让我们先看看什么是 Hexo</p><blockquote><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p></blockquote><p>众所周知，白嫖让我们快乐，利用 Hexo 搭建的博客可以解锁更多的白嫖技巧（后续文章更新）</p><h1 id="初始化博客"><a href="#初始化博客" class="headerlink" title="初始化博客"></a>初始化博客</h1><h2 id="安装-node-js"><a href="#安装-node-js" class="headerlink" title="安装 node.js"></a>安装 node.js</h2><h3 id="windows-安装"><a href="#windows-安装" class="headerlink" title="windows 安装"></a>windows 安装</h3><ol><li>前往 node.js<a href="https://nodejs.org/zh-cn/">官网</a>下载（推荐下载 LTS 版本）</li><li>按照安装提示进行安装（一定要选“添加到环境变量&#x2F;ADD TO PATH”，这样会给后期减少很多麻烦）</li><li>安装 Git</li></ol><h3 id="Linux-安装"><a href="#Linux-安装" class="headerlink" title="Linux 安装"></a>Linux 安装</h3><h4 id="安装源里面的-node-版本（简便方法）"><a href="#安装源里面的-node-版本（简便方法）" class="headerlink" title="安装源里面的 node 版本（简便方法）"></a>安装源里面的 node 版本（简便方法）</h4><ol><li>debian&#x2F;ununtu(需要管理员权限)</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt install nodejs</span><br><span class="line">apt install npm</span><br><span class="line">apt-get install git-core</span><br><span class="line">npm config <span class="built_in">set</span> registry http://registry.npm.taobao.org/（这一步将NPM源切换为国内淘宝源，可以不做）</span><br></pre></td></tr></table></figure><ol start="2"><li>centos</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install nodejs</span><br><span class="line">yun install npm</span><br><span class="line">yum install git-core</span><br><span class="line">npm config <span class="built_in">set</span> registry http://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure><ol start="3"><li>利用<a href="https://www.bt.cn/">宝塔面板安装</a></li></ol><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FoccFUPVZFNkWytVa3ucGCrreMw7.jpeg"><br>安装 node 管理器<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fg2VNO8EQxfxLXqUXSh1BA1v2zmD.jpeg"><br>选择任意一个版本（建议选一个长期支持版本，宝塔面板安装不好处理），可以使用<code>npx hexo使用</code>这样的安装方式需要自己添加环境变量</p><h4 id="增加环境变量（需要管理员权限—Linux）"><a href="#增加环境变量（需要管理员权限—Linux）" class="headerlink" title="增加环境变量（需要管理员权限—Linux）"></a>增加环境变量（需要管理员权限—Linux）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;PATH=&quot;$PATH:./node_modules/.bin&quot;&#x27;</span> &gt;&gt; ~/.profile</span><br></pre></td></tr></table></figure><h3 id="docker-安装"><a href="#docker-安装" class="headerlink" title="docker 安装"></a>docker 安装</h3><p>期待后续更新</p><h2 id="安装-hexo（推荐使用淘宝源）"><a href="#安装-hexo（推荐使用淘宝源）" class="headerlink" title="安装 hexo（推荐使用淘宝源）"></a>安装 hexo（推荐使用淘宝源）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>这样，前期环境搭建就完成了</p><h2 id="初始化博客根目录"><a href="#初始化博客根目录" class="headerlink" title="初始化博客根目录"></a>初始化博客根目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//选定一个你要存放博客的目录，在你选定的目录打开终端（windows用户请复制相对路径，在cmd里<span class="built_in">cd</span>+进入目录）</span><br><span class="line">hexo init &lt;博客目录名&gt; //hexo init myblog</span><br><span class="line"><span class="built_in">cd</span> &lt;博客目录名&gt; //cd myblog</span><br><span class="line">npm install / cnpm install</span><br><span class="line">hexo s //（在线预览博客，需要放行4000端口）or hexo s -p+端口号</span><br></pre></td></tr></table></figure><p>好了，就这样一个静态博客就初始化好了（可以通过 <a href="http://localhost:4000/127.0.0.1:4000">http://localhost:4000/127.0.0.1:4000</a> 访问）<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FkWygzFvajgCm_t7v0ok4UByIyto.png"><br>这是成功后的目录结构，期中_config.yml 是前期用的比较多的<br>对于动态博客看起来会比较麻烦，但后期的备份，白嫖。迁移都有很大的优势。</p><h2 id="选择主题"><a href="#选择主题" class="headerlink" title="选择主题"></a>选择主题</h2><p>爱美之心人皆有之，谁不会想要一个好看的博客主题呢？本文推荐使用博主同款主题<a href="https://butterflt.js.org/">butterfly</a></p><h3 id="什么是主题-butterfly"><a href="#什么是主题-butterfly" class="headerlink" title="什么是主题 butterfly"></a>什么是主题 butterfly</h3><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fkr92vIMM4wDvAdx6Y6uLL1N5h_o.jpeg"><br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FvfUGMpCzSB9xj1hLKsC6nUmUJsU.jpeg"></p><h3 id="获取主题（以下均在刚刚创建的博客根目录进行（-x2F-myblog））"><a href="#获取主题（以下均在刚刚创建的博客根目录进行（-x2F-myblog））" class="headerlink" title="获取主题（以下均在刚刚创建的博客根目录进行（&#x2F;myblog））"></a>获取主题（以下均在刚刚创建的博客根目录进行（&#x2F;myblog））</h3><h4 id="通过-git-获取（需要提前配置好-git）"><a href="#通过-git-获取（需要提前配置好-git）" class="headerlink" title="通过 git 获取（需要提前配置好 git）"></a>通过 git 获取（需要提前配置好 git）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>对于没有梯子的，可以采用本站提供的镜像 github（任选一个使用）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://git.ypmsk.tk/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br><span class="line">git <span class="built_in">clone</span> -b master https://git.ypmsk.top/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><h4 id="通过-npm-获取"><a href="#通过-npm-获取" class="headerlink" title="通过 npm 获取"></a>通过 npm 获取</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><p>需要手动将 node_modules 下的 hexo-theme-butterfly 复制到 themes 目录下</p><h3 id="修改博客主配置-让主题生效"><a href="#修改博客主配置-让主题生效" class="headerlink" title="修改博客主配置,让主题生效"></a>修改博客主配置,让主题生效</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><h3 id="为博客添加身份（修改基础信息）"><a href="#为博客添加身份（修改基础信息）" class="headerlink" title="为博客添加身份（修改基础信息）"></a>为博客添加身份（修改基础信息）</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">stars&#x27;blog</span> <span class="string">//博客题目</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;博客副标题&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">分享，技术，教程</span> <span class="string">//自己博客的关键字</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span> <span class="string">//时区，默认不管它就行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://www.cnortles.top</span> <span class="string">//博客地址（和版权信息，以及分享有关）</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span> <span class="string">//（此处配置为安装了插件）</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>基础信息配置完以后，让我们一键三连</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean // npx hexo clean</span><br><span class="line">hexo g // npx hexo g</span><br><span class="line">hexo s //npx hexo s</span><br></pre></td></tr></table></figure><p>通过 localhost:4000 预览博客（关于端口修改上文已提及）</p><h3 id="主题更新方法"><a href="#主题更新方法" class="headerlink" title="主题更新方法"></a>主题更新方法</h3><p>为了方便主题更新，请将主题目录下的_config.yml（原文件不要删除！！！）复制到博客根目录下并改为_config.butterfly.yml<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FoHWRe7jjlB9QK0ZCo3-MEPVSq8O.jpeg"><br>在 hexo5.0 以上，会自动合并两个配置，默认读取“_config.butterfly.yml”后续关于主题的魔改也会在这里修改</p><h1 id="主题魔改"><a href="#主题魔改" class="headerlink" title="主题魔改"></a>主题魔改</h1><h2 id="创建魔改目录"><a href="#创建魔改目录" class="headerlink" title="创建魔改目录"></a>创建魔改目录</h2><p>为方便后续主题更新，我们需要在站点根目录下的 source 目录下创建 custom 目录<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FsWC4en7hSJUFHLyZ3sxZEO0f-IX.jpeg"><br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Ftmqziw95cep7mN6F8OsiIvMB-CG.jpeg"></p><h1 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h1><h2 id="番外-1：利用语雀写文章"><a href="#番外-1：利用语雀写文章" class="headerlink" title="番外 1：利用语雀写文章"></a>番外 1：利用语雀写文章</h2><p>本站已有小白版教程（非自动版）</p><h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><ul><li><input checked="" disabled="" type="checkbox"> 介绍安装 Nodejs</li><li><input checked="" disabled="" type="checkbox"> 安装 hexo</li><li><input disabled="" type="checkbox"> docker 安装</li><li><input checked="" disabled="" type="checkbox"> 选择主题</li><li><input checked="" disabled="" type="checkbox"> 一键三连</li><li><input checked="" disabled="" type="checkbox"> 简化后续主题更新</li><li><input disabled="" type="checkbox"> 如何写作</li><li><input disabled="" type="checkbox"> 主题魔改</li><li><input disabled="" type="checkbox"> 白嫖进行时</li><li><input disabled="" type="checkbox"> 安装插件</li><li><input checked="" disabled="" type="checkbox"> 番外 1：利用语雀写文章（非自动版）</li><li><input disabled="" type="checkbox"> 番外 2：利用 qexo 写文章</li></ul>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的C语言学习之路</title>
      <link href="/posts/260de057.html"/>
      <url>/posts/260de057.html</url>
      
        <content type="html"><![CDATA[<h1 id="创建原因"><a href="#创建原因" class="headerlink" title="创建原因"></a>创建原因</h1><p>在这里会记录我学习 C 语言的过程和一些经验，方便大家学习编程语言(此文不提供环境搭建教程)</p><h1 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello,world!"></a>Hello,world!</h1><p>让我们照例先写一个 Hello,world!</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span> <span class="comment">//这一步引进头文件</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&#x27;Hello,world!&#x27;</span>); <span class="comment">//此处为C语言内置打印函数</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">2022</span>;<span class="comment">//此处为函数运行完成后，返回的数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>利用 gcc 编译 C 语言源文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc helloword.c</span><br><span class="line">./a.out</span><br></pre></td></tr></table></figure><p>这就是一个很简单的 C 语言函数，让我们来看一下运行效果（此为编译后的效果）<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FimP_iIEIwCfJgKbECz7owRDnnn7.jpeg"></p><h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h1 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h1>]]></content>
      
      
      <categories>
          
          <category> 编程学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo与语雀搭配使用（小白版）</title>
      <link href="/posts/60002e75.html"/>
      <url>/posts/60002e75.html</url>
      
        <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>hexo 是一个很好用的博客框架，但却少好用的编辑器。笔者用过很多的博客框架，最喜欢 WordPress 的编辑器。有一次笔者在网上冲浪时，发现了<a href="https://zfe.space/post/554e.html">小冰大佬的文章</a>，用语雀搭配 hexo 使用，奈何笔者是一个小白，在笔者的尝试之下，找到了一个简单的方法。</p><h2 id="什么是语雀？"><a href="#什么是语雀？" class="headerlink" title="什么是语雀？"></a>什么是语雀？</h2><blockquote><p>「语雀」是一个「专业的云端知识库」，孵化自 蚂蚁金服 ，是 体验科技 理念下的一款创新产品，已是 10 万阿里员工进行文档编写、知识沉淀的标配。</p></blockquote><h3 id="用语雀对我们有什么好处？"><a href="#用语雀对我们有什么好处？" class="headerlink" title="用语雀对我们有什么好处？"></a>用语雀对我们有什么好处？</h3><p>我们可以在语雀上进行书写，后部署到自己的博客，在这过程中我们可以使用语雀的 cdn（白嫖），同时也可以体会用富文本编辑器编辑的快感。</p><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><h3 id="在本地搭配好-hexo-环境（本文以-CentOS-为例子）"><a href="#在本地搭配好-hexo-环境（本文以-CentOS-为例子）" class="headerlink" title="在本地搭配好 hexo 环境（本文以 CentOS 为例子）"></a>在本地搭配好 hexo 环境（本文以 CentOS 为例子）</h3><ol><li>安装 node.js</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install nodejs+主板本号</span><br></pre></td></tr></table></figure><ol start="2"><li>安装 hexo</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>4.初始化根目录（详情参见<a href="https://www.hexo.io/">hexo 主题官方目录</a>）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init myblog</span><br><span class="line"><span class="built_in">cd</span> myblog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>5.前往<a href="https://www.yuque.com/">语雀官网</a>注册账号</p><h2 id="开始部署语雀与-hexo"><a href="#开始部署语雀与-hexo" class="headerlink" title="开始部署语雀与 hexo"></a>开始部署语雀与 hexo</h2><h3 id="语雀仓库相关配置·"><a href="#语雀仓库相关配置·" class="headerlink" title="语雀仓库相关配置·"></a>语雀仓库相关配置·</h3><ol><li>登录语雀官网，点击知识库 → 创建知识库（互联网可见）<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Fv06PW07pQ8kL7K-bL-7bpSjkjWr.png"></li><li>导入服务器上根目录下_posts 下内容（如果未新配置站点可跳过此步骤），如果文章过多，可以将整个_posts 目录压缩上传至语雀仓库（后续同步语雀仓库会删除本地_posts 下内容）<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FoHWXqh0-kDNG4x2gdI_aARZcU36.jpeg"></li><li>创建模板（方便后面编写文章）点击右上角新建 → 新建模板（文档）<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FnSymgT36mZwQrWuPjxHUKhDYmbb.jpeg"></li></ol><p>在模板中，放置以下内容</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 测试功能</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">  -</span> Github</span><br><span class="line"><span class="bullet">  -</span> CF</span><br><span class="line"><span class="bullet">  -</span> 教程</span><br><span class="line"><span class="bullet">  -</span> 测试</span><br><span class="line"><span class="bullet">  -</span> 试验室</span><br><span class="line">abbrlink: 6a7d</span><br><span class="line">categories:</span><br><span class="line"><span class="bullet">  -</span> 建站</span><br><span class="line"><span class="bullet">  -</span> 教程</span><br><span class="line">author: stars</span><br><span class="line"><span class="section">date: 2021-12-30 18:05:00</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>abbrlink 需要安装插件支持<br>如果提示是否进行格式转换，请勿装换！！！</p><h2 id="配置本地环境"><a href="#配置本地环境" class="headerlink" title="配置本地环境"></a>配置本地环境</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g yuque-hexo</span><br></pre></td></tr></table></figure><h3 id="修改站点根目录下-package-json-文件"><a href="#修改站点根目录下-package-json-文件" class="headerlink" title="修改站点根目录下 package.json 文件"></a>修改站点根目录下 package.json 文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> ...</span><br><span class="line"></span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;yuque-hexo clean &amp;&amp; yuque-hexo sync &amp;&amp; hexo clean &amp;&amp; hexo generate &amp;&amp; hexo d&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;hexo generate&quot;</span>,</span><br><span class="line">    <span class="string">&quot;clean&quot;</span>: <span class="string">&quot;hexo clean&quot;</span>,</span><br><span class="line">    <span class="string">&quot;deploy&quot;</span>: <span class="string">&quot;hexo deploy&quot;</span>,</span><br><span class="line">    <span class="string">&quot;server&quot;</span>: <span class="string">&quot;hexo server&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"> ...</span><br><span class="line"></span><br><span class="line">  <span class="string">&quot;yuqueConfig&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;postPath&quot;</span>: <span class="string">&quot;source/_posts/yuque&quot;</span>,</span><br><span class="line">    <span class="string">&quot;cachePath&quot;</span>: <span class="string">&quot;yuque.json&quot;</span>,</span><br><span class="line">    <span class="string">&quot;mdNameFormat&quot;</span>: <span class="string">&quot;slug&quot;</span>,</span><br><span class="line">    <span class="string">&quot;adapter&quot;</span>: <span class="string">&quot;markdown&quot;</span>,</span><br><span class="line">    <span class="string">&quot;concurrency&quot;</span>: 5,</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;https://www.yuque.com/api/v2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;login&quot;</span>: <span class="string">&quot;个人路径&quot;</span>,</span><br><span class="line">    <span class="string">&quot;repo&quot;</span>: <span class="string">&quot;仓库名&quot;</span>,</span><br><span class="line">    <span class="string">&quot;token&quot;</span>: <span class="string">&quot;***********************&quot;</span>,</span><br><span class="line">    <span class="string">&quot;onlyPublished&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;onlyPublic&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;lastGeneratePath&quot;</span>: <span class="string">&quot;lastGeneratePath.log&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>token 可以点击头像获取<br>一段链接<a href="https://www.yuque.com/XXXXX/aaaaaa%E4%B8%AA%E4%BA%BA%E8%B7%AF%E5%BE%84%E5%B0%B1%E4%B8%BAXXXXX%EF%BC%8C%E4%BB%93%E5%BA%93%E5%90%8D%E5%B0%B1%E4%B8%BAaaaaaaaaa">https://www.yuque.com/XXXXX/aaaaaa个人路径就为XXXXX，仓库名就为aaaaaaaaa</a></p><h3 id="创建自动化任务-（以宝塔举例）"><a href="#创建自动化任务-（以宝塔举例）" class="headerlink" title="创建自动化任务 （以宝塔举例）"></a>创建自动化任务 （以宝塔举例）</h3><ol><li>进入宝塔控制台，选择计划任务 → 创建 Shell 脚本 → 前面输入打开自己博客所在目录 → 最后加入</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start //刚才已配置在json里面，可直接完成语雀仓库同步，渲染，部署</span><br></pre></td></tr></table></figure><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FuZQqNX4drt2iggtp2If8gnZeQjL.jpeg"></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>本方法较为简单，但如果更换服务器，还需再次部署，较为麻烦，推荐采用小冰大佬的<a href="https://zfe.space/post/554e.html">方法</a></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> yuque </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>国内加速github</title>
      <link href="/posts/6dc3b8fe.html"/>
      <url>/posts/6dc3b8fe.html</url>
      
        <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>利用<a href="https://www.cloudflare.com/">cf</a>对 Github 进行代理，加快国内访问速度（cf 免费计划一天有 100000 请求量）</p><h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><h2 id="1-登录-cf-worker注册一个账号"><a href="#1-登录-cf-worker注册一个账号" class="headerlink" title="1.登录 cf worker注册一个账号"></a>1.登录 <a href="https://workers.cloudflare.com/">cf worker</a>注册一个账号</h2><h2 id="2-回到主页，点击创建-worker，"><a href="#2-回到主页，点击创建-worker，" class="headerlink" title="2.回到主页，点击创建 worker，"></a>2.回到主页，点击创建 worker，<img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FuDQqgWe_p8LHY8N39VJ52s-zFtc.png"></h2><p>按照提示，完成 worker 创建</p><h2 id="3-进入刚刚创建好的-worker，点击快速编辑，部署-js-代码"><a href="#3-进入刚刚创建好的-worker，点击快速编辑，部署-js-代码" class="headerlink" title="3.进入刚刚创建好的 worker，点击快速编辑，部署 js 代码"></a>3.进入刚刚创建好的 worker，点击快速编辑，部署 js 代码</h2><p><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/Ft6Vs07KWELRIZuqf6Vizo_dnPYV.png"></p><h2 id="4-部署代码"><a href="#4-部署代码" class="headerlink" title="4.部署代码"></a>4.部署代码</h2><h3 id="1-只加速-git-下载（演示效果）"><a href="#1-只加速-git-下载（演示效果）" class="headerlink" title="1. 只加速 git 下载（演示效果）"></a>1. 只加速 git 下载（<a href="https://gh.api.99988866.xyz/">演示效果</a>）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * static files (404.html, sw.js, conf.js)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">ASSET_URL</span> = <span class="string">&quot;https://hunshcn.github.io/gh-proxy/&quot;</span>;</span><br><span class="line"><span class="comment">// 前缀，如果自定义路由为example.com/gh/*，将PREFIX改为 &#x27;/gh/&#x27;，注意，少一个杠都会错！</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PREFIX</span> = <span class="string">&quot;/&quot;</span>;</span><br><span class="line"><span class="comment">// git使用cnpmjs镜像、分支文件使用jsDelivr镜像的开关，0为关闭，默认开启</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Config</span> = &#123;</span><br><span class="line">  <span class="attr">jsdelivr</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">cnpmjs</span>: <span class="number">1</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/** <span class="doctag">@type</span> &#123;<span class="type">RequestInit</span>&#125; */</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PREFLIGHT_INIT</span> = &#123;</span><br><span class="line">  <span class="attr">status</span>: <span class="number">204</span>,</span><br><span class="line">  <span class="attr">headers</span>: <span class="keyword">new</span> <span class="title class_">Headers</span>(&#123;</span><br><span class="line">    <span class="string">&quot;access-control-allow-origin&quot;</span>: <span class="string">&quot;*&quot;</span>,</span><br><span class="line">    <span class="string">&quot;access-control-allow-methods&quot;</span>:</span><br><span class="line">      <span class="string">&quot;GET,POST,PUT,PATCH,TRACE,DELETE,HEAD,OPTIONS&quot;</span>,</span><br><span class="line">    <span class="string">&quot;access-control-max-age&quot;</span>: <span class="string">&quot;1728000&quot;</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">any</span>&#125; <span class="variable">body</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">status</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object&lt;string, string&gt;</span>&#125; <span class="variable">headers</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeRes</span>(<span class="params">body, status = <span class="number">200</span>, headers = &#123;&#125;</span>) &#123;</span><br><span class="line">  headers[<span class="string">&quot;access-control-allow-origin&quot;</span>] = <span class="string">&quot;*&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(body, &#123; status, headers &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">urlStr</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">newUrl</span>(<span class="params">urlStr</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">URL</span>(urlStr);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&quot;fetch&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> ret = <span class="title function_">fetchHandler</span>(e).<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span></span><br><span class="line">    <span class="title function_">makeRes</span>(<span class="string">&quot;cfworker error:\n&quot;</span> + err.<span class="property">stack</span>, <span class="number">502</span>)</span><br><span class="line">  );</span><br><span class="line">  e.<span class="title function_">respondWith</span>(ret);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">FetchEvent</span>&#125; <span class="variable">e</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchHandler</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> req = e.<span class="property">request</span>;</span><br><span class="line">  <span class="keyword">const</span> urlStr = req.<span class="property">url</span>;</span><br><span class="line">  <span class="keyword">const</span> urlObj = <span class="keyword">new</span> <span class="title function_">URL</span>(urlStr);</span><br><span class="line">  <span class="keyword">let</span> path = urlObj.<span class="property">searchParams</span>.<span class="title function_">get</span>(<span class="string">&quot;q&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (path) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Response</span>.<span class="title function_">redirect</span>(<span class="string">&quot;https://&quot;</span> + urlObj.<span class="property">host</span> + <span class="variable constant_">PREFIX</span> + path, <span class="number">301</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// cfworker 会把路径中的 `//` 合并成 `/`</span></span><br><span class="line">  path = urlObj.<span class="property">href</span></span><br><span class="line">    .<span class="title function_">substr</span>(urlObj.<span class="property">origin</span>.<span class="property">length</span> + <span class="variable constant_">PREFIX</span>.<span class="property">length</span>)</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/^https?:\/+/</span>, <span class="string">&quot;https://&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> exp1 =</span><br><span class="line">    <span class="regexp">/^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:releases|archive|suites)\/.*$/i</span>;</span><br><span class="line">  <span class="keyword">const</span> exp2 = <span class="regexp">/^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:blob|raw)\/.*$/i</span>;</span><br><span class="line">  <span class="keyword">const</span> exp3 = <span class="regexp">/^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:info|git-).*$/i</span>;</span><br><span class="line">  <span class="keyword">const</span> exp4 =</span><br><span class="line">    <span class="regexp">/^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com\/.+?\/.+?\/.+?\/.+$/i</span>;</span><br><span class="line">  <span class="keyword">const</span> exp5 =</span><br><span class="line">    <span class="regexp">/^(?:https?:\/\/)?gist\.(?:githubusercontent|github)\.com\/.+?\/.+?\/.+$/i</span>;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    path.<span class="title function_">search</span>(exp1) === <span class="number">0</span> ||</span><br><span class="line">    path.<span class="title function_">search</span>(exp5) === <span class="number">0</span> ||</span><br><span class="line">    (!<span class="title class_">Config</span>.<span class="property">cnpmjs</span> &amp;&amp; (path.<span class="title function_">search</span>(exp3) === <span class="number">0</span> || path.<span class="title function_">search</span>(exp4) === <span class="number">0</span>))</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">httpHandler</span>(req, path);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (path.<span class="title function_">search</span>(exp2) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Config</span>.<span class="property">jsdelivr</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> newUrl = path</span><br><span class="line">        .<span class="title function_">replace</span>(<span class="string">&quot;/blob/&quot;</span>, <span class="string">&quot;@&quot;</span>)</span><br><span class="line">        .<span class="title function_">replace</span>(<span class="regexp">/^(?:https?:\/\/)?github\.com/</span>, <span class="string">&quot;https://cdn.jsdelivr.net/gh&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Response</span>.<span class="title function_">redirect</span>(newUrl, <span class="number">302</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      path = path.<span class="title function_">replace</span>(<span class="string">&quot;/blob/&quot;</span>, <span class="string">&quot;/raw/&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">httpHandler</span>(req, path);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (path.<span class="title function_">search</span>(exp3) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> newUrl = path.<span class="title function_">replace</span>(</span><br><span class="line">      <span class="regexp">/^(?:https?:\/\/)?github\.com/</span>,</span><br><span class="line">      <span class="string">&quot;https://github.com.cnpmjs.org&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Response</span>.<span class="title function_">redirect</span>(newUrl, <span class="number">302</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (path.<span class="title function_">search</span>(exp4) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> newUrl = path</span><br><span class="line">      .<span class="title function_">replace</span>(<span class="regexp">/(?&lt;=com\/.+?\/.+?)\/(.+?\/)/</span>, <span class="string">&quot;@$1&quot;</span>)</span><br><span class="line">      .<span class="title function_">replace</span>(</span><br><span class="line">        <span class="regexp">/^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com/</span>,</span><br><span class="line">        <span class="string">&quot;https://cdn.jsdelivr.net/gh&quot;</span></span><br><span class="line">      );</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Response</span>.<span class="title function_">redirect</span>(newUrl, <span class="number">302</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">fetch</span>(<span class="variable constant_">ASSET_URL</span> + path);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Request</span>&#125; <span class="variable">req</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">pathname</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">httpHandler</span>(<span class="params">req, pathname</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> reqHdrRaw = req.<span class="property">headers</span>;</span><br><span class="line">  <span class="comment">// preflight</span></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    req.<span class="property">method</span> === <span class="string">&quot;OPTIONS&quot;</span> &amp;&amp;</span><br><span class="line">    reqHdrRaw.<span class="title function_">has</span>(<span class="string">&quot;access-control-request-headers&quot;</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="literal">null</span>, <span class="variable constant_">PREFLIGHT_INIT</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> rawLen = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> reqHdrNew = <span class="keyword">new</span> <span class="title class_">Headers</span>(reqHdrRaw);</span><br><span class="line">  <span class="keyword">let</span> urlStr = pathname;</span><br><span class="line">  <span class="keyword">if</span> (urlStr.<span class="title function_">startsWith</span>(<span class="string">&quot;github&quot;</span>)) &#123;</span><br><span class="line">    urlStr = <span class="string">&quot;https://&quot;</span> + urlStr;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> urlObj = <span class="title function_">newUrl</span>(urlStr);</span><br><span class="line">  <span class="comment">/** <span class="doctag">@type</span> &#123;<span class="type">RequestInit</span>&#125; */</span></span><br><span class="line">  <span class="keyword">const</span> reqInit = &#123;</span><br><span class="line">    <span class="attr">method</span>: req.<span class="property">method</span>,</span><br><span class="line">    <span class="attr">headers</span>: reqHdrNew,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;follow&quot;</span>,</span><br><span class="line">    <span class="attr">body</span>: req.<span class="property">body</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">proxy</span>(urlObj, reqInit, rawLen, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">URL</span>&#125; <span class="variable">urlObj</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">RequestInit</span>&#125; <span class="variable">reqInit</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">proxy</span>(<span class="params">urlObj, reqInit, rawLen</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(urlObj.<span class="property">href</span>, reqInit);</span><br><span class="line">  <span class="keyword">const</span> resHdrOld = res.<span class="property">headers</span>;</span><br><span class="line">  <span class="keyword">const</span> resHdrNew = <span class="keyword">new</span> <span class="title class_">Headers</span>(resHdrOld);</span><br><span class="line">  <span class="comment">// verify</span></span><br><span class="line">  <span class="keyword">if</span> (rawLen) &#123;</span><br><span class="line">    <span class="keyword">const</span> newLen = resHdrOld.<span class="title function_">get</span>(<span class="string">&quot;content-length&quot;</span>) || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> badLen = rawLen !== newLen;</span><br><span class="line">    <span class="keyword">if</span> (badLen) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">makeRes</span>(res.<span class="property">body</span>, <span class="number">400</span>, &#123;</span><br><span class="line">        <span class="string">&quot;--error&quot;</span>: <span class="string">`bad len: <span class="subst">$&#123;newLen&#125;</span>, except: <span class="subst">$&#123;rawLen&#125;</span>`</span>,</span><br><span class="line">        <span class="string">&quot;access-control-expose-headers&quot;</span>: <span class="string">&quot;--error&quot;</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> status = res.<span class="property">status</span>;</span><br><span class="line">  resHdrNew.<span class="title function_">set</span>(<span class="string">&quot;access-control-expose-headers&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">  resHdrNew.<span class="title function_">set</span>(<span class="string">&quot;access-control-allow-origin&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">  resHdrNew.<span class="title function_">delete</span>(<span class="string">&quot;content-security-policy&quot;</span>);</span><br><span class="line">  resHdrNew.<span class="title function_">delete</span>(<span class="string">&quot;content-security-policy-report-only&quot;</span>);</span><br><span class="line">  resHdrNew.<span class="title function_">delete</span>(<span class="string">&quot;clear-site-data&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(res.<span class="property">body</span>, &#123;</span><br><span class="line">    status,</span><br><span class="line">    <span class="attr">headers</span>: resHdrNew,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这代码是由<a href="https://github.com/hunshcn/gh-proxy/">hunshcn 大佬提供的</a>大佬还开源了 python 版本</p><h3 id="2-另外一中就是直接镜像一个-gituhb，跟我们熟知的fastgit一样-站长力推此方法"><a href="#2-另外一中就是直接镜像一个-gituhb，跟我们熟知的fastgit一样-站长力推此方法" class="headerlink" title="2.另外一中就是直接镜像一个 gituhb，跟我们熟知的fastgit一样(站长力推此方法)"></a>2.另外一中就是直接镜像一个 gituhb，跟我们熟知的<a href="https://hub.fastgit.org/">fastgit</a>一样(站长力推此方法)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 你要镜像的网站.</span></span><br><span class="line"><span class="keyword">const</span> upstream = <span class="string">&quot;www.github.com&quot;</span>;</span><br><span class="line"><span class="comment">// 镜像网站的目录，比如你想镜像某个网站的二级目录则填写二级目录的目录名，镜像 google 用不到，默认即可.</span></span><br><span class="line"><span class="keyword">const</span> upstream_path = <span class="string">&quot;/&quot;</span>;</span><br><span class="line"><span class="comment">// 镜像站是否有手机访问专用网址，没有则填一样的.</span></span><br><span class="line"><span class="keyword">const</span> upstream_mobile = <span class="string">&quot;www.github.com&quot;</span>;</span><br><span class="line"><span class="comment">// 屏蔽国家和地区.</span></span><br><span class="line"><span class="keyword">const</span> blocked_region = [<span class="string">&quot;KP&quot;</span>, <span class="string">&quot;SY&quot;</span>, <span class="string">&quot;PK&quot;</span>, <span class="string">&quot;CU&quot;</span>];</span><br><span class="line"><span class="comment">// 屏蔽 IP 地址.</span></span><br><span class="line"><span class="keyword">const</span> blocked_ip_address = [<span class="string">&quot;0.0.0.0&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>];</span><br><span class="line"><span class="comment">// 镜像站是否开启 HTTPS.</span></span><br><span class="line"><span class="keyword">const</span> https = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// 文本替换.</span></span><br><span class="line"><span class="keyword">const</span> replace_dict = &#123;</span><br><span class="line">  <span class="attr">$upstream</span>: <span class="string">&quot;$custom_domain&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//github.com&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 以下保持默认，不要动</span></span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&quot;fetch&quot;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(<span class="title function_">fetchAndApply</span>(event.<span class="property">request</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchAndApply</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> region = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;cf-ipcountry&quot;</span>).<span class="title function_">toUpperCase</span>();</span><br><span class="line">  <span class="keyword">const</span> ip_address = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;cf-connecting-ip&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> user_agent = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;user-agent&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> response = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">  <span class="keyword">let</span> url_hostname = url.<span class="property">hostname</span>;</span><br><span class="line">  <span class="keyword">if</span> (https == <span class="literal">true</span>) &#123;</span><br><span class="line">    url.<span class="property">protocol</span> = <span class="string">&quot;https:&quot;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    url.<span class="property">protocol</span> = <span class="string">&quot;http:&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">await</span> <span class="title function_">device_status</span>(user_agent)) &#123;</span><br><span class="line">    <span class="keyword">var</span> upstream_domain = upstream;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> upstream_domain = upstream_mobile;</span><br><span class="line">  &#125;</span><br><span class="line">  url.<span class="property">host</span> = upstream_domain;</span><br><span class="line">  <span class="keyword">if</span> (url.<span class="property">pathname</span> == <span class="string">&quot;/&quot;</span>) &#123;</span><br><span class="line">    url.<span class="property">pathname</span> = upstream_path;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    url.<span class="property">pathname</span> = upstream_path + url.<span class="property">pathname</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (blocked_region.<span class="title function_">includes</span>(region)) &#123;</span><br><span class="line">    response = <span class="keyword">new</span> <span class="title class_">Response</span>(</span><br><span class="line">      <span class="string">&quot;Access denied: WorkersProxy is not available in your region yet.&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">status</span>: <span class="number">403</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (blocked_ip_address.<span class="title function_">includes</span>(ip_address)) &#123;</span><br><span class="line">    response = <span class="keyword">new</span> <span class="title class_">Response</span>(</span><br><span class="line">      <span class="string">&quot;Access denied: Your IP address is blocked by WorkersProxy.&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">status</span>: <span class="number">403</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> method = request.<span class="property">method</span>;</span><br><span class="line">    <span class="keyword">let</span> request_headers = request.<span class="property">headers</span>;</span><br><span class="line">    <span class="keyword">let</span> new_request_headers = <span class="keyword">new</span> <span class="title class_">Headers</span>(request_headers);</span><br><span class="line">    new_request_headers.<span class="title function_">set</span>(<span class="string">&quot;Host&quot;</span>, url.<span class="property">hostname</span>);</span><br><span class="line">    new_request_headers.<span class="title function_">set</span>(<span class="string">&quot;Referer&quot;</span>, url.<span class="property">hostname</span>);</span><br><span class="line">    <span class="keyword">let</span> original_response = <span class="keyword">await</span> <span class="title function_">fetch</span>(url.<span class="property">href</span>, &#123;</span><br><span class="line">      <span class="attr">method</span>: method,</span><br><span class="line">      <span class="attr">headers</span>: new_request_headers,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">let</span> original_response_clone = original_response.<span class="title function_">clone</span>();</span><br><span class="line">    <span class="keyword">let</span> original_text = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> response_headers = original_response.<span class="property">headers</span>;</span><br><span class="line">    <span class="keyword">let</span> new_response_headers = <span class="keyword">new</span> <span class="title class_">Headers</span>(response_headers);</span><br><span class="line">    <span class="keyword">let</span> status = original_response.<span class="property">status</span>;</span><br><span class="line">    new_response_headers.<span class="title function_">set</span>(<span class="string">&quot;access-control-allow-origin&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">set</span>(<span class="string">&quot;access-control-allow-credentials&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">delete</span>(<span class="string">&quot;content-security-policy&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">delete</span>(<span class="string">&quot;content-security-policy-report-only&quot;</span>);</span><br><span class="line">    new_response_headers.<span class="title function_">delete</span>(<span class="string">&quot;clear-site-data&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> content_type = new_response_headers.<span class="title function_">get</span>(<span class="string">&quot;content-type&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (content_type.<span class="title function_">includes</span>(<span class="string">&quot;text/html&quot;</span>) &amp;&amp; content_type.<span class="title function_">includes</span>(<span class="string">&quot;UTF-8&quot;</span>)) &#123;</span><br><span class="line">      original_text = <span class="keyword">await</span> <span class="title function_">replace_response_text</span>(</span><br><span class="line">        original_response_clone,</span><br><span class="line">        upstream_domain,</span><br><span class="line">        url_hostname</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      original_text = original_response_clone.<span class="property">body</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    response = <span class="keyword">new</span> <span class="title class_">Response</span>(original_text, &#123;</span><br><span class="line">      status,</span><br><span class="line">      <span class="attr">headers</span>: new_response_headers,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> response;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">replace_response_text</span>(<span class="params">response, upstream_domain, host_name</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> text = <span class="keyword">await</span> response.<span class="title function_">text</span>();</span><br><span class="line">  <span class="keyword">var</span> i, j;</span><br><span class="line">  <span class="keyword">for</span> (i <span class="keyword">in</span> replace_dict) &#123;</span><br><span class="line">    j = replace_dict[i];</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="string">&quot;$upstream&quot;</span>) &#123;</span><br><span class="line">      i = upstream_domain;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="string">&quot;$custom_domain&quot;</span>) &#123;</span><br><span class="line">      i = host_name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (j == <span class="string">&quot;$upstream&quot;</span>) &#123;</span><br><span class="line">      j = upstream_domain;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="string">&quot;$custom_domain&quot;</span>) &#123;</span><br><span class="line">      j = host_name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> re = <span class="keyword">new</span> <span class="title class_">RegExp</span>(i, <span class="string">&quot;g&quot;</span>);</span><br><span class="line">    text = text.<span class="title function_">replace</span>(re, j);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">device_status</span>(<span class="params">user_agent_info</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> agents = [</span><br><span class="line">    <span class="string">&quot;Android&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iPhone&quot;</span>,</span><br><span class="line">    <span class="string">&quot;SymbianOS&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Windows Phone&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iPad&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iPod&quot;</span>,</span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; agents.<span class="property">length</span>; v++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (user_agent_info.<span class="title function_">indexOf</span>(agents[v]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      flag = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>改动此代码还可以加速其他网站（谷歌已经屏蔽掉了 cf 的 IP） 5.添加路由（需要将域名托管在 cf 上）<br><img src="https://source-1302300903.cos.ap-nanjing.myqcloud.com/blog/img/FiFoqpUaMrGlGcxbTV-NHbfjjyRa.png"><br>然后就可以美滋滋的使用了（一定要注意额度）<br>附送上本站的 git 镜像<a href="https://git.ypmsk.top/">点击访问</a></p>]]></content>
      
      
      <categories>
          
          <category> 源码 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 反代 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
